/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Clock.ts":
/*!**********************!*\
  !*** ./src/Clock.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Clock; });\nclass Clock {\r\n    constructor(update) {\r\n        this.running = false;\r\n        this.a = null;\r\n        this.id = null;\r\n        this.update = update;\r\n    }\r\n    run() {\r\n        this.running = true;\r\n        this.a = (t) => {\r\n            this.update(t);\r\n            if (this.running) {\r\n                this.id = requestAnimationFrame(this.a);\r\n            }\r\n        };\r\n        this.id = requestAnimationFrame(this.a);\r\n    }\r\n    stop() {\r\n        this.running = false;\r\n        cancelAnimationFrame(this.id);\r\n        this.a = null;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ2xvY2sudHM/NGI5YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9DbG9jay50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENsb2NrIHtcclxuICAgIGNvbnN0cnVjdG9yKHVwZGF0ZSkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy51cGRhdGUgPSB1cGRhdGU7XHJcbiAgICB9XHJcbiAgICBydW4oKSB7XHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmEgPSAodCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0KTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYSk7XHJcbiAgICB9XHJcbiAgICBzdG9wKCkge1xyXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuaWQpO1xyXG4gICAgICAgIHRoaXMuYSA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Clock.ts\n");

/***/ }),

/***/ "./src/Game.ts":
/*!*********************!*\
  !*** ./src/Game.ts ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Game; });\n/* harmony import */ var _Piece__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Piece */ \"./src/Piece.ts\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Input */ \"./src/Input.ts\");\n/* harmony import */ var _Grab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Grab */ \"./src/Grab.ts\");\n/* harmony import */ var _Timer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Timer */ \"./src/Timer.ts\");\n\r\n\r\n\r\n\r\n\r\n/** 퍼즐에서 아무 퍼즐 조각이나 선택하여, 그 조각의 행렬 위치를 얻는다. */\r\nfunction selectRealPiece(model, blankTag) {\r\n    while (true) {\r\n        let i = Math.floor(Math.random() * model.length);\r\n        if (model[i] != blankTag)\r\n            return i;\r\n    }\r\n}\r\n/** 퍼즐의 해결 가능 여부를 실제로 판단한다. */\r\nfunction checkSolvable(model, blankTag) {\r\n    let blankIndex = model.indexOf(blankTag);\r\n    let size = Math.sqrt(model.length);\r\n    let blankRow = Math.floor(blankIndex / size);\r\n    let inversion = 0;\r\n    for (let i = 0; i < model.length; i++) {\r\n        if (model[i] == blankTag)\r\n            continue;\r\n        for (let j = i + 1; j < model.length; j++) {\r\n            if (model[j] == blankTag)\r\n                continue;\r\n            if (model[i] > model[j])\r\n                inversion++;\r\n        }\r\n    }\r\n    // return inversion % 2 == parity;\r\n    return (inversion + ((size % 2 == 0) ? blankRow + 1 : 0)) % 2 == 0;\r\n}\r\nclass Game {\r\n    constructor(size, puzzleSet, left, top, boardSize, upsideDown) {\r\n        /**\r\n         * 게임 진행 중 여부\r\n         *\r\n         * false : 아직 시작 버튼을 누르지 않은 상태.\r\n         *  - 플레이어는 퍼즐 조각을 요리조리 움직여볼 수 있다.\r\n         *  - 타이머가 진행되지 않는다.\r\n         *  - 우연찮게 퍼즐을 완성시켜도 인정하지 않는다.\r\n         *\r\n         * true : 플레이 중\r\n         *  - 타이머가 진행된다.\r\n         *  - 퍼즐을 완성시키면 클리어한 것으로 인정되고, 완성 이펙트가 뜨고, 이 값이 false로 돌아간다.\r\n         */\r\n        this.playing = false;\r\n        /** 이 게임에서 빈 칸에 해당하는 태그 */\r\n        this.blankTag = 0;\r\n        /** 이 게임에서 번호를 표시할지 여부 */\r\n        this.showLabel = false;\r\n        this._bottomBlank = true;\r\n        this._rightBlank = false;\r\n        /** 입력을 처리하는 컴포넌트 */\r\n        this.input = new _Input__WEBPACK_IMPORTED_MODULE_2__[\"Input\"]();\r\n        /** 퍼즐 조각의 움직임을 컨트롤하는 컴포넌트 */\r\n        this.grab = new _Grab__WEBPACK_IMPORTED_MODULE_3__[\"Grab\"]();\r\n        /** 플레이 타임을 관리하는 컴포넌트 */\r\n        this.timer = new _Timer__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\n        this.rAFSyncMousedownMessage = false;\r\n        this.rAFSyncMouseupMessage = false;\r\n        this.handlePlay = this._noop;\r\n        this.left = left;\r\n        this.top = top;\r\n        this.len = boardSize;\r\n        this._size = size;\r\n        this._upsideDown = upsideDown;\r\n        this.setPuzzleSet(puzzleSet);\r\n    }\r\n    /** 캔버스에서 퍼즐의 오른쪽 끝 위치 */\r\n    get right() {\r\n        return this.left + this.len;\r\n    }\r\n    /** 캔버스에서 퍼즐의 아래쪽 끝 위치 */\r\n    get bottom() {\r\n        return this.top + this.len;\r\n    }\r\n    /** 한 행 또는 열의 퍼즐 조각의 수 */\r\n    get size() {\r\n        return this._size;\r\n    }\r\n    /** 퍼즐 조각 하나의 변의 길이 */\r\n    get pieceSize() {\r\n        return this.len / this._size;\r\n    }\r\n    /** 현재 빈 칸의 행렬 위치 */\r\n    get rowColOfBlank() {\r\n        let i = this.puzzleModel.indexOf(this.blankTag);\r\n        return [Math.floor(i / this._size), i % this._size];\r\n    }\r\n    /**\r\n     * 생성된 퍼즐 조각에 번호를 처음으로 또는 다시 붙인다.\r\n     * 번호를 붙이는 것은 게임 초기화를 요구하지 않는다.\r\n     * */\r\n    assignLabel(upsideDown) {\r\n        this._upsideDown = upsideDown;\r\n        const totalPieces = this._size * this._size;\r\n        for (let tag = 0; tag < totalPieces; tag++) {\r\n            let vrow = Math.floor(tag / this._size);\r\n            let vcol = tag % this._size;\r\n            let lrow = upsideDown ? this._size - vrow - 1 : vrow;\r\n            let label = lrow * this._size + vcol + 1;\r\n            this.pieces[tag].label = label.toString();\r\n        }\r\n    }\r\n    /**\r\n     * 퍼즐 크기를 설정한다. 게임 재설정이 요구된다.\r\n     */\r\n    setSize(size, bottomBlank, rightBlank) {\r\n        this.end(null);\r\n        this.timer.reset();\r\n        this._size = size;\r\n        this._bottomBlank = bottomBlank;\r\n        this._rightBlank = rightBlank;\r\n        const t = size * size;\r\n        this.puzzleModel = new Array(t);\r\n        this.pieces = new Array(t);\r\n        const pieceLength = this._puzzleSet.srcLength / size;\r\n        for (let tag = 0; tag < t; tag++) {\r\n            this.puzzleModel[tag] = tag;\r\n            let row = Math.floor(tag / size);\r\n            let col = tag % size;\r\n            let [x, y] = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getPosition\"])(row, col, this._puzzleSet.srcLength, this._puzzleSet.srcX, this._puzzleSet.srcY, size);\r\n            this.pieces[tag] = new _Piece__WEBPACK_IMPORTED_MODULE_0__[\"default\"](tag, this._puzzleSet.texture, x, y, pieceLength, this.len / size);\r\n        }\r\n        this.blankTag = (this._size * (this._size - 1)) * Number(bottomBlank) + (this._size - 1) * Number(rightBlank);\r\n        this.assignLabel(this._upsideDown);\r\n        this.initPiecePosition();\r\n    }\r\n    /**\r\n     * 퍼즐셋을 변경한다. 참조 범위가 바뀔 수 있으므로 setSize가 후속적으로 호출된다.\r\n     */\r\n    setPuzzleSet(puzzleSet) {\r\n        this._puzzleSet = puzzleSet;\r\n        this.solvable = puzzleSet.solvable;\r\n        this.setSize(this._size, this._bottomBlank, this._rightBlank);\r\n    }\r\n    /** 퍼즐을 섞는다. Game 내에 있는 solvable 속성이 적용된다. */\r\n    shuffle() {\r\n        this.puzzleModel.sort(() => 0.5 - Math.random());\r\n        console.log(checkSolvable(this.puzzleModel, this.blankTag));\r\n        if (checkSolvable(this.puzzleModel, this.blankTag) != this.solvable) {\r\n            let a = selectRealPiece(this.puzzleModel, this.blankTag);\r\n            let b;\r\n            do {\r\n                b = selectRealPiece(this.puzzleModel, this.blankTag);\r\n            } while (a == b);\r\n            let t = this.puzzleModel[a];\r\n            this.puzzleModel[a] = this.puzzleModel[b];\r\n            this.puzzleModel[b] = t;\r\n        }\r\n        console.log(checkSolvable(this.puzzleModel, this.blankTag));\r\n    }\r\n    /**\r\n     * 퍼즐 조각들을 모두 제자리에 놓는다.\r\n     * (퍼즐 조각의 위치를 퍼즐 모델과 일치시킨다.)\r\n     * */\r\n    initPiecePosition() {\r\n        const totalPieces = this._size * this._size;\r\n        const num = this._size;\r\n        const len = this.len;\r\n        for (let i = 0; i < totalPieces; i++) {\r\n            const tag = this.puzzleModel[i];\r\n            let row = Math.floor(i / num);\r\n            let col = (i % num);\r\n            this.pieces[tag].x = this.left + col * len / num;\r\n            this.pieces[tag].y = this.top + row * len / num;\r\n        }\r\n    }\r\n    /** (x, y) 좌표의 행렬 위치를 얻는다. */\r\n    getRowColAt(x, y) {\r\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getRowCol\"])(x, y, this.len, this.left, this.top, this._size);\r\n    }\r\n    /** 지정 행렬 위치에 있는 퍼즐 조각을 얻는다. */\r\n    getPieceAt(row, col) {\r\n        let foundPosition = col + row * this._size;\r\n        let foundTag = this.puzzleModel[foundPosition];\r\n        return this.pieces[foundTag];\r\n    }\r\n    /** index번째 행벡터/열벡터를 얻는다. */\r\n    getVector(index, orient) {\r\n        let ar = new Array(this._size);\r\n        let start, increment;\r\n        switch (orient) {\r\n            case \"row\":\r\n                start = index * this._size;\r\n                increment = 1;\r\n                break;\r\n            case \"col\":\r\n                start = index;\r\n                increment = this._size;\r\n                break;\r\n        }\r\n        for (let i = 0; i < this._size; i++) {\r\n            ar[i] = this.pieces[this.puzzleModel[start + increment * i]];\r\n        }\r\n        return ar;\r\n    }\r\n    putMousedownMessage() { this.rAFSyncMousedownMessage = true; }\r\n    putMouseupMessage() { this.rAFSyncMouseupMessage = true; }\r\n    /** rAF에 동기화된 마우스 클릭 핸들러 */\r\n    onMousedown() {\r\n        /* 이 메서드는 반드시 input.handleMousedown() 이후에 호출되므로 이 메서드가 시작하는 시점에서는 input의 모든 속성들이 유효값을 가지고 있다. */\r\n        this.grab.onMousedown(this.input, this);\r\n        // 아직 제 자리를 못 찾고 헤매는 조각이 있으면 곧바로 destX,destY 값을 적용시켜 즉시 이동한다.\r\n        for (const piece of this.grab.concern) {\r\n            if (piece.tag != this.blankTag)\r\n                piece.getIntoPositionNow();\r\n        }\r\n    }\r\n    /** rAF에 동기화된 마우스 놓기 핸들러 */\r\n    onMouseup() {\r\n        this.grab.onMouseup(this.input, this);\r\n    }\r\n    _noop() { }\r\n    _updateForPlaying(t) {\r\n        if (this.isSolved()) {\r\n            this.onComplete(t);\r\n            return;\r\n        }\r\n        this.timer.update(t);\r\n    }\r\n    /** 매 rAF마다 호출된다. */\r\n    update(t) {\r\n        let grab = this.grab;\r\n        this.input.clock();\r\n        if (this.rAFSyncMousedownMessage) {\r\n            this.onMousedown();\r\n            // insert code here\r\n            this.rAFSyncMousedownMessage = false;\r\n        }\r\n        if (grab.piece) {\r\n            grab.update(this);\r\n        }\r\n        if (this.rAFSyncMouseupMessage) {\r\n            this.onMouseup();\r\n            // insert code here\r\n            this.rAFSyncMouseupMessage = false;\r\n        }\r\n        for (const piece of this.pieces) {\r\n            if (piece.tag != this.blankTag)\r\n                piece.update(this);\r\n        }\r\n        // todo resolveCollision\r\n        this.handlePlay(t);\r\n    }\r\n    /** 게임을 시작한다. */\r\n    start(startTime) {\r\n        this.handlePlay = this._updateForPlaying;\r\n        this.playing = true;\r\n        this.timer.start(startTime);\r\n    }\r\n    /** 게임을 끝낸다. (게임 중단, 게임 클리어 모두 포함) */\r\n    end(endTime) {\r\n        this.handlePlay = this._noop;\r\n        this.playing = false;\r\n        this.timer.end(endTime);\r\n    }\r\n    /** 퍼즐이 완성되었는지 판단한다. */\r\n    isSolved() {\r\n        for (let i = 0; i < this.puzzleModel.length; i++) {\r\n            if (this.puzzleModel[i] != i)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    /** 퍼즐을 완성했을 때 실행된다. */\r\n    onComplete(t) {\r\n        this.end(t);\r\n    }\r\n    /**\r\n     * 주어진 좌표를 클릭했을 때 마우스 드래그/놓기 이벤트를 활성화시킬 것인지 여부\r\n     * accept되지 않으면 **입력 자체가 완전히 무시되어 버린다.**\r\n     */\r\n    acceptCoordinate(x, y) {\r\n        // 퍼즐 밖 영역을 클릭하면 드래그로 이어지지 않는다.\r\n        if (x < this.left || x > this.right || y < this.top || y > this.bottom)\r\n            return false;\r\n        // 움직일 수 없는 조각을 클릭하면 드래그로 이어지지 않는다.\r\n        let [blankRow, blankCol] = this.rowColOfBlank;\r\n        let [row, col] = this.getRowColAt(x, y);\r\n        if ((blankRow == row) == (blankCol == col))\r\n            return false;\r\n        return true;\r\n    }\r\n    /** 그린다. */\r\n    render(context) {\r\n        context.clearRect(0, 0, 360, 480);\r\n        for (const piece of this.pieces) {\r\n            if (piece.tag != this.blankTag)\r\n                piece.render(context, this.showLabel);\r\n        }\r\n        this.timer.render(context, this.left, this.len, 420);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS50cz83NDllIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTRCO0FBQ3FCO0FBQ2pCO0FBQ0Y7QUFDRjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw0Q0FBSztBQUM5QjtBQUNBLHdCQUF3QiwwQ0FBSTtBQUM1QjtBQUNBLHlCQUF5Qiw4Q0FBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1CQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFNBQVM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFXO0FBQ3BDLG1DQUFtQyw4Q0FBSztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnQkFBZ0I7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUNBQXFDO0FBQ2hFLHlCQUF5QixtQ0FBbUM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL0dhbWUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGllY2UgZnJvbSBcIi4vUGllY2VcIjtcclxuaW1wb3J0IHsgZ2V0Um93Q29sLCBnZXRQb3NpdGlvbiB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IElucHV0IH0gZnJvbSBcIi4vSW5wdXRcIjtcclxuaW1wb3J0IHsgR3JhYiB9IGZyb20gXCIuL0dyYWJcIjtcclxuaW1wb3J0IFRpbWVyIGZyb20gXCIuL1RpbWVyXCI7XHJcbi8qKiDtjbzsppDsl5DshJwg7JWE66y0IO2NvOymkCDsobDqsIHsnbTrgpgg7ISg7YOd7ZWY7JesLCDqt7gg7KGw6rCB7J2YIO2WieugrCDsnITsuZjrpbwg7Ja764qU64ukLiAqL1xyXG5mdW5jdGlvbiBzZWxlY3RSZWFsUGllY2UobW9kZWwsIGJsYW5rVGFnKSB7XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGxldCBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW9kZWwubGVuZ3RoKTtcclxuICAgICAgICBpZiAobW9kZWxbaV0gIT0gYmxhbmtUYWcpXHJcbiAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG59XHJcbi8qKiDtjbzsppDsnZgg7ZW06rKwIOqwgOuKpSDsl6zrtoDrpbwg7Iuk7KCc66GcIO2MkOuLqO2VnOuLpC4gKi9cclxuZnVuY3Rpb24gY2hlY2tTb2x2YWJsZShtb2RlbCwgYmxhbmtUYWcpIHtcclxuICAgIGxldCBibGFua0luZGV4ID0gbW9kZWwuaW5kZXhPZihibGFua1RhZyk7XHJcbiAgICBsZXQgc2l6ZSA9IE1hdGguc3FydChtb2RlbC5sZW5ndGgpO1xyXG4gICAgbGV0IGJsYW5rUm93ID0gTWF0aC5mbG9vcihibGFua0luZGV4IC8gc2l6ZSk7XHJcbiAgICBsZXQgaW52ZXJzaW9uID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kZWwubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobW9kZWxbaV0gPT0gYmxhbmtUYWcpXHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IG1vZGVsLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlbFtqXSA9PSBibGFua1RhZylcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBpZiAobW9kZWxbaV0gPiBtb2RlbFtqXSlcclxuICAgICAgICAgICAgICAgIGludmVyc2lvbisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHJldHVybiBpbnZlcnNpb24gJSAyID09IHBhcml0eTtcclxuICAgIHJldHVybiAoaW52ZXJzaW9uICsgKChzaXplICUgMiA9PSAwKSA/IGJsYW5rUm93ICsgMSA6IDApKSAlIDIgPT0gMDtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKHNpemUsIHB1enpsZVNldCwgbGVmdCwgdG9wLCBib2FyZFNpemUsIHVwc2lkZURvd24pIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDqsozsnoQg7KeE7ZaJIOykkSDsl6zrtoBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGZhbHNlIDog7JWE7KeBIOyLnOyekSDrsoTtirzsnYQg64iE66W07KeAIOyViuydgCDsg4Htg5wuXHJcbiAgICAgICAgICogIC0g7ZSM66CI7J207Ja064qUIO2NvOymkCDsobDqsIHsnYQg7JqU66as7KGw66asIOybgOyngeyXrOuzvCDsiJgg7J6I64ukLlxyXG4gICAgICAgICAqICAtIO2DgOydtOuouOqwgCDsp4TtlonrkJjsp4Ag7JWK64qU64ukLlxyXG4gICAgICAgICAqICAtIOyasOyXsOywruqyjCDtjbzsppDsnYQg7JmE7ISx7Iuc7Lyc64+EIOyduOygle2VmOyngCDslYrripTri6QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiB0cnVlIDog7ZSM66CI7J20IOykkVxyXG4gICAgICAgICAqICAtIO2DgOydtOuouOqwgCDsp4TtlonrkJzri6QuXHJcbiAgICAgICAgICogIC0g7Y287KaQ7J2EIOyZhOyEseyLnO2CpOuptCDtgbTrpqzslrTtlZwg6rKD7Jy866GcIOyduOygleuQmOqzoCwg7JmE7ISxIOydtO2Ome2KuOqwgCDrnKjqs6AsIOydtCDqsJLsnbQgZmFsc2XroZwg64+M7JWE6rCE64ukLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKiDsnbQg6rKM7J6E7JeQ7IScIOu5iCDsubjsl5Ag7ZW064u57ZWY64qUIO2DnOq3uCAqL1xyXG4gICAgICAgIHRoaXMuYmxhbmtUYWcgPSAwO1xyXG4gICAgICAgIC8qKiDsnbQg6rKM7J6E7JeQ7IScIOuyiO2YuOulvCDtkZzsi5ztlaDsp4Ag7Jes67aAICovXHJcbiAgICAgICAgdGhpcy5zaG93TGFiZWwgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9ib3R0b21CbGFuayA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fcmlnaHRCbGFuayA9IGZhbHNlO1xyXG4gICAgICAgIC8qKiDsnoXroKXsnYQg7LKY66as7ZWY64qUIOy7tO2PrOuEjO2KuCAqL1xyXG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXQoKTtcclxuICAgICAgICAvKiog7Y287KaQIOyhsOqwgeydmCDsm4Dsp4HsnoTsnYQg7Luo7Yq466Gk7ZWY64qUIOy7tO2PrOuEjO2KuCAqL1xyXG4gICAgICAgIHRoaXMuZ3JhYiA9IG5ldyBHcmFiKCk7XHJcbiAgICAgICAgLyoqIO2UjOugiOydtCDtg4DsnoTsnYQg6rSA66as7ZWY64qUIOy7tO2PrOuEjO2KuCAqL1xyXG4gICAgICAgIHRoaXMudGltZXIgPSBuZXcgVGltZXIoKTtcclxuICAgICAgICB0aGlzLnJBRlN5bmNNb3VzZWRvd25NZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yQUZTeW5jTW91c2V1cE1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXkgPSB0aGlzLl9ub29wO1xyXG4gICAgICAgIHRoaXMubGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy50b3AgPSB0b3A7XHJcbiAgICAgICAgdGhpcy5sZW4gPSBib2FyZFNpemU7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fdXBzaWRlRG93biA9IHVwc2lkZURvd247XHJcbiAgICAgICAgdGhpcy5zZXRQdXp6bGVTZXQocHV6emxlU2V0KTtcclxuICAgIH1cclxuICAgIC8qKiDsupTrsoTsiqTsl5DshJwg7Y287KaQ7J2YIOyYpOuluOyqvSDrgZ0g7JyE7LmYICovXHJcbiAgICBnZXQgcmlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdCArIHRoaXMubGVuO1xyXG4gICAgfVxyXG4gICAgLyoqIOy6lOuyhOyKpOyXkOyEnCDtjbzsppDsnZgg7JWE656Y7Kq9IOuBnSDsnITsuZggKi9cclxuICAgIGdldCBib3R0b20oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9wICsgdGhpcy5sZW47XHJcbiAgICB9XHJcbiAgICAvKiog7ZWcIO2WiSDrmJDripQg7Je07J2YIO2NvOymkCDsobDqsIHsnZgg7IiYICovXHJcbiAgICBnZXQgc2l6ZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuICAgIC8qKiDtjbzsppAg7KGw6rCBIO2VmOuCmOydmCDrs4DsnZgg6ri47J20ICovXHJcbiAgICBnZXQgcGllY2VTaXplKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxlbiAvIHRoaXMuX3NpemU7XHJcbiAgICB9XHJcbiAgICAvKiog7ZiE7J6sIOu5iCDsubjsnZgg7ZaJ66CsIOychOy5mCAqL1xyXG4gICAgZ2V0IHJvd0NvbE9mQmxhbmsoKSB7XHJcbiAgICAgICAgbGV0IGkgPSB0aGlzLnB1enpsZU1vZGVsLmluZGV4T2YodGhpcy5ibGFua1RhZyk7XHJcbiAgICAgICAgcmV0dXJuIFtNYXRoLmZsb29yKGkgLyB0aGlzLl9zaXplKSwgaSAlIHRoaXMuX3NpemVdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDsg53shLHrkJwg7Y287KaQIOyhsOqwgeyXkCDrsojtmLjrpbwg7LKY7J2M7Jy866GcIOuYkOuKlCDri6Tsi5wg67aZ7J2464ukLlxyXG4gICAgICog67KI7Zi466W8IOu2meydtOuKlCDqsoPsnYAg6rKM7J6EIOy0iOq4sO2ZlOulvCDsmpTqtaztlZjsp4Ag7JWK64qU64ukLlxyXG4gICAgICogKi9cclxuICAgIGFzc2lnbkxhYmVsKHVwc2lkZURvd24pIHtcclxuICAgICAgICB0aGlzLl91cHNpZGVEb3duID0gdXBzaWRlRG93bjtcclxuICAgICAgICBjb25zdCB0b3RhbFBpZWNlcyA9IHRoaXMuX3NpemUgKiB0aGlzLl9zaXplO1xyXG4gICAgICAgIGZvciAobGV0IHRhZyA9IDA7IHRhZyA8IHRvdGFsUGllY2VzOyB0YWcrKykge1xyXG4gICAgICAgICAgICBsZXQgdnJvdyA9IE1hdGguZmxvb3IodGFnIC8gdGhpcy5fc2l6ZSk7XHJcbiAgICAgICAgICAgIGxldCB2Y29sID0gdGFnICUgdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgbGV0IGxyb3cgPSB1cHNpZGVEb3duID8gdGhpcy5fc2l6ZSAtIHZyb3cgLSAxIDogdnJvdztcclxuICAgICAgICAgICAgbGV0IGxhYmVsID0gbHJvdyAqIHRoaXMuX3NpemUgKyB2Y29sICsgMTtcclxuICAgICAgICAgICAgdGhpcy5waWVjZXNbdGFnXS5sYWJlbCA9IGxhYmVsLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDtjbzsppAg7YGs6riw66W8IOyEpOygle2VnOuLpC4g6rKM7J6EIOyerOyEpOygleydtCDsmpTqtazrkJzri6QuXHJcbiAgICAgKi9cclxuICAgIHNldFNpemUoc2l6ZSwgYm90dG9tQmxhbmssIHJpZ2h0QmxhbmspIHtcclxuICAgICAgICB0aGlzLmVuZChudWxsKTtcclxuICAgICAgICB0aGlzLnRpbWVyLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5fYm90dG9tQmxhbmsgPSBib3R0b21CbGFuaztcclxuICAgICAgICB0aGlzLl9yaWdodEJsYW5rID0gcmlnaHRCbGFuaztcclxuICAgICAgICBjb25zdCB0ID0gc2l6ZSAqIHNpemU7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVNb2RlbCA9IG5ldyBBcnJheSh0KTtcclxuICAgICAgICB0aGlzLnBpZWNlcyA9IG5ldyBBcnJheSh0KTtcclxuICAgICAgICBjb25zdCBwaWVjZUxlbmd0aCA9IHRoaXMuX3B1enpsZVNldC5zcmNMZW5ndGggLyBzaXplO1xyXG4gICAgICAgIGZvciAobGV0IHRhZyA9IDA7IHRhZyA8IHQ7IHRhZysrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHV6emxlTW9kZWxbdGFnXSA9IHRhZztcclxuICAgICAgICAgICAgbGV0IHJvdyA9IE1hdGguZmxvb3IodGFnIC8gc2l6ZSk7XHJcbiAgICAgICAgICAgIGxldCBjb2wgPSB0YWcgJSBzaXplO1xyXG4gICAgICAgICAgICBsZXQgW3gsIHldID0gZ2V0UG9zaXRpb24ocm93LCBjb2wsIHRoaXMuX3B1enpsZVNldC5zcmNMZW5ndGgsIHRoaXMuX3B1enpsZVNldC5zcmNYLCB0aGlzLl9wdXp6bGVTZXQuc3JjWSwgc2l6ZSk7XHJcbiAgICAgICAgICAgIHRoaXMucGllY2VzW3RhZ10gPSBuZXcgUGllY2UodGFnLCB0aGlzLl9wdXp6bGVTZXQudGV4dHVyZSwgeCwgeSwgcGllY2VMZW5ndGgsIHRoaXMubGVuIC8gc2l6ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYmxhbmtUYWcgPSAodGhpcy5fc2l6ZSAqICh0aGlzLl9zaXplIC0gMSkpICogTnVtYmVyKGJvdHRvbUJsYW5rKSArICh0aGlzLl9zaXplIC0gMSkgKiBOdW1iZXIocmlnaHRCbGFuayk7XHJcbiAgICAgICAgdGhpcy5hc3NpZ25MYWJlbCh0aGlzLl91cHNpZGVEb3duKTtcclxuICAgICAgICB0aGlzLmluaXRQaWVjZVBvc2l0aW9uKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIO2NvOymkOyFi+ydhCDrs4Dqsr3tlZzri6QuIOywuOyhsCDrspTsnITqsIAg67CU64CUIOyImCDsnojsnLzrr4DroZwgc2V0U2l6ZeqwgCDtm4Tsho3soIHsnLzroZwg7Zi47Lac65Cc64ukLlxyXG4gICAgICovXHJcbiAgICBzZXRQdXp6bGVTZXQocHV6emxlU2V0KSB7XHJcbiAgICAgICAgdGhpcy5fcHV6emxlU2V0ID0gcHV6emxlU2V0O1xyXG4gICAgICAgIHRoaXMuc29sdmFibGUgPSBwdXp6bGVTZXQuc29sdmFibGU7XHJcbiAgICAgICAgdGhpcy5zZXRTaXplKHRoaXMuX3NpemUsIHRoaXMuX2JvdHRvbUJsYW5rLCB0aGlzLl9yaWdodEJsYW5rKTtcclxuICAgIH1cclxuICAgIC8qKiDtjbzsppDsnYQg7ISe64qU64ukLiBHYW1lIOuCtOyXkCDsnojripQgc29sdmFibGUg7IaN7ISx7J20IOyggeyaqeuQnOuLpC4gKi9cclxuICAgIHNodWZmbGUoKSB7XHJcbiAgICAgICAgdGhpcy5wdXp6bGVNb2RlbC5zb3J0KCgpID0+IDAuNSAtIE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNoZWNrU29sdmFibGUodGhpcy5wdXp6bGVNb2RlbCwgdGhpcy5ibGFua1RhZykpO1xyXG4gICAgICAgIGlmIChjaGVja1NvbHZhYmxlKHRoaXMucHV6emxlTW9kZWwsIHRoaXMuYmxhbmtUYWcpICE9IHRoaXMuc29sdmFibGUpIHtcclxuICAgICAgICAgICAgbGV0IGEgPSBzZWxlY3RSZWFsUGllY2UodGhpcy5wdXp6bGVNb2RlbCwgdGhpcy5ibGFua1RhZyk7XHJcbiAgICAgICAgICAgIGxldCBiO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBiID0gc2VsZWN0UmVhbFBpZWNlKHRoaXMucHV6emxlTW9kZWwsIHRoaXMuYmxhbmtUYWcpO1xyXG4gICAgICAgICAgICB9IHdoaWxlIChhID09IGIpO1xyXG4gICAgICAgICAgICBsZXQgdCA9IHRoaXMucHV6emxlTW9kZWxbYV07XHJcbiAgICAgICAgICAgIHRoaXMucHV6emxlTW9kZWxbYV0gPSB0aGlzLnB1enpsZU1vZGVsW2JdO1xyXG4gICAgICAgICAgICB0aGlzLnB1enpsZU1vZGVsW2JdID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coY2hlY2tTb2x2YWJsZSh0aGlzLnB1enpsZU1vZGVsLCB0aGlzLmJsYW5rVGFnKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIO2NvOymkCDsobDqsIHrk6TsnYQg66qo65GQIOygnOyekOumrOyXkCDrhpPripTri6QuXHJcbiAgICAgKiAo7Y287KaQIOyhsOqwgeydmCDsnITsuZjrpbwg7Y287KaQIOuqqOuNuOqzvCDsnbzsuZjsi5ztgqjri6QuKVxyXG4gICAgICogKi9cclxuICAgIGluaXRQaWVjZVBvc2l0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsUGllY2VzID0gdGhpcy5fc2l6ZSAqIHRoaXMuX3NpemU7XHJcbiAgICAgICAgY29uc3QgbnVtID0gdGhpcy5fc2l6ZTtcclxuICAgICAgICBjb25zdCBsZW4gPSB0aGlzLmxlbjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUGllY2VzOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdGFnID0gdGhpcy5wdXp6bGVNb2RlbFtpXTtcclxuICAgICAgICAgICAgbGV0IHJvdyA9IE1hdGguZmxvb3IoaSAvIG51bSk7XHJcbiAgICAgICAgICAgIGxldCBjb2wgPSAoaSAlIG51bSk7XHJcbiAgICAgICAgICAgIHRoaXMucGllY2VzW3RhZ10ueCA9IHRoaXMubGVmdCArIGNvbCAqIGxlbiAvIG51bTtcclxuICAgICAgICAgICAgdGhpcy5waWVjZXNbdGFnXS55ID0gdGhpcy50b3AgKyByb3cgKiBsZW4gLyBudW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqICh4LCB5KSDsooztkZzsnZgg7ZaJ66CsIOychOy5mOulvCDslrvripTri6QuICovXHJcbiAgICBnZXRSb3dDb2xBdCh4LCB5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFJvd0NvbCh4LCB5LCB0aGlzLmxlbiwgdGhpcy5sZWZ0LCB0aGlzLnRvcCwgdGhpcy5fc2l6ZSk7XHJcbiAgICB9XHJcbiAgICAvKiog7KeA7KCVIO2WieugrCDsnITsuZjsl5Ag7J6I64qUIO2NvOymkCDsobDqsIHsnYQg7Ja764qU64ukLiAqL1xyXG4gICAgZ2V0UGllY2VBdChyb3csIGNvbCkge1xyXG4gICAgICAgIGxldCBmb3VuZFBvc2l0aW9uID0gY29sICsgcm93ICogdGhpcy5fc2l6ZTtcclxuICAgICAgICBsZXQgZm91bmRUYWcgPSB0aGlzLnB1enpsZU1vZGVsW2ZvdW5kUG9zaXRpb25dO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpZWNlc1tmb3VuZFRhZ107XHJcbiAgICB9XHJcbiAgICAvKiogaW5kZXjrsojsp7gg7ZaJ67Kh7YSwL+yXtOuyoe2EsOulvCDslrvripTri6QuICovXHJcbiAgICBnZXRWZWN0b3IoaW5kZXgsIG9yaWVudCkge1xyXG4gICAgICAgIGxldCBhciA9IG5ldyBBcnJheSh0aGlzLl9zaXplKTtcclxuICAgICAgICBsZXQgc3RhcnQsIGluY3JlbWVudDtcclxuICAgICAgICBzd2l0Y2ggKG9yaWVudCkge1xyXG4gICAgICAgICAgICBjYXNlIFwicm93XCI6XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IGluZGV4ICogdGhpcy5fc2l6ZTtcclxuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImNvbFwiOlxyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIGluY3JlbWVudCA9IHRoaXMuX3NpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zaXplOyBpKyspIHtcclxuICAgICAgICAgICAgYXJbaV0gPSB0aGlzLnBpZWNlc1t0aGlzLnB1enpsZU1vZGVsW3N0YXJ0ICsgaW5jcmVtZW50ICogaV1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXI7XHJcbiAgICB9XHJcbiAgICBwdXRNb3VzZWRvd25NZXNzYWdlKCkgeyB0aGlzLnJBRlN5bmNNb3VzZWRvd25NZXNzYWdlID0gdHJ1ZTsgfVxyXG4gICAgcHV0TW91c2V1cE1lc3NhZ2UoKSB7IHRoaXMuckFGU3luY01vdXNldXBNZXNzYWdlID0gdHJ1ZTsgfVxyXG4gICAgLyoqIHJBRuyXkCDrj5nquLDtmZTrkJwg66eI7Jqw7IqkIO2BtOumrSDtlbjrk6Trn6wgKi9cclxuICAgIG9uTW91c2Vkb3duKCkge1xyXG4gICAgICAgIC8qIOydtCDrqZTshJzrk5zripQg67CY65Oc7IucIGlucHV0LmhhbmRsZU1vdXNlZG93bigpIOydtO2bhOyXkCDtmLjstpzrkJjrr4DroZwg7J20IOuplOyEnOuTnOqwgCDsi5zsnpHtlZjripQg7Iuc7KCQ7JeQ7ISc64qUIGlucHV07J2YIOuqqOuToCDsho3shLHrk6TsnbQg7Jyg7Zqo6rCS7J2EIOqwgOyngOqzoCDsnojri6QuICovXHJcbiAgICAgICAgdGhpcy5ncmFiLm9uTW91c2Vkb3duKHRoaXMuaW5wdXQsIHRoaXMpO1xyXG4gICAgICAgIC8vIOyVhOyngSDsoJwg7J6Q66as66W8IOuquyDssL7qs6Ag7Zek66ek64qUIOyhsOqwgeydtCDsnojsnLzrqbQg6rOn67CU66GcIGRlc3RYLGRlc3RZIOqwkuydhCDsoIHsmqnsi5zsvJwg7KaJ7IucIOydtOuPme2VnOuLpC5cclxuICAgICAgICBmb3IgKGNvbnN0IHBpZWNlIG9mIHRoaXMuZ3JhYi5jb25jZXJuKSB7XHJcbiAgICAgICAgICAgIGlmIChwaWVjZS50YWcgIT0gdGhpcy5ibGFua1RhZylcclxuICAgICAgICAgICAgICAgIHBpZWNlLmdldEludG9Qb3NpdGlvbk5vdygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKiByQUbsl5Ag64+Z6riw7ZmU65CcIOuniOyasOyKpCDrhpPquLAg7ZW465Ok65+sICovXHJcbiAgICBvbk1vdXNldXAoKSB7XHJcbiAgICAgICAgdGhpcy5ncmFiLm9uTW91c2V1cCh0aGlzLmlucHV0LCB0aGlzKTtcclxuICAgIH1cclxuICAgIF9ub29wKCkgeyB9XHJcbiAgICBfdXBkYXRlRm9yUGxheWluZyh0KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTb2x2ZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUodCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50aW1lci51cGRhdGUodCk7XHJcbiAgICB9XHJcbiAgICAvKiog66ekIHJBRuuniOuLpCDtmLjstpzrkJzri6QuICovXHJcbiAgICB1cGRhdGUodCkge1xyXG4gICAgICAgIGxldCBncmFiID0gdGhpcy5ncmFiO1xyXG4gICAgICAgIHRoaXMuaW5wdXQuY2xvY2soKTtcclxuICAgICAgICBpZiAodGhpcy5yQUZTeW5jTW91c2Vkb3duTWVzc2FnZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTW91c2Vkb3duKCk7XHJcbiAgICAgICAgICAgIC8vIGluc2VydCBjb2RlIGhlcmVcclxuICAgICAgICAgICAgdGhpcy5yQUZTeW5jTW91c2Vkb3duTWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZ3JhYi5waWVjZSkge1xyXG4gICAgICAgICAgICBncmFiLnVwZGF0ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuckFGU3luY01vdXNldXBNZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZXVwKCk7XHJcbiAgICAgICAgICAgIC8vIGluc2VydCBjb2RlIGhlcmVcclxuICAgICAgICAgICAgdGhpcy5yQUZTeW5jTW91c2V1cE1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBwaWVjZSBvZiB0aGlzLnBpZWNlcykge1xyXG4gICAgICAgICAgICBpZiAocGllY2UudGFnICE9IHRoaXMuYmxhbmtUYWcpXHJcbiAgICAgICAgICAgICAgICBwaWVjZS51cGRhdGUodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRvZG8gcmVzb2x2ZUNvbGxpc2lvblxyXG4gICAgICAgIHRoaXMuaGFuZGxlUGxheSh0KTtcclxuICAgIH1cclxuICAgIC8qKiDqsozsnoTsnYQg7Iuc7J6R7ZWc64ukLiAqL1xyXG4gICAgc3RhcnQoc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVQbGF5ID0gdGhpcy5fdXBkYXRlRm9yUGxheWluZztcclxuICAgICAgICB0aGlzLnBsYXlpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMudGltZXIuc3RhcnQoc3RhcnRUaW1lKTtcclxuICAgIH1cclxuICAgIC8qKiDqsozsnoTsnYQg64Gd64K464ukLiAo6rKM7J6EIOykkeuLqCwg6rKM7J6EIO2BtOumrOyWtCDrqqjrkZAg7Y+s7ZWoKSAqL1xyXG4gICAgZW5kKGVuZFRpbWUpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZVBsYXkgPSB0aGlzLl9ub29wO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGltZXIuZW5kKGVuZFRpbWUpO1xyXG4gICAgfVxyXG4gICAgLyoqIO2NvOymkOydtCDsmYTshLHrkJjsl4jripTsp4Ag7YyQ64uo7ZWc64ukLiAqL1xyXG4gICAgaXNTb2x2ZWQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnB1enpsZU1vZGVsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnB1enpsZU1vZGVsW2ldICE9IGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgLyoqIO2NvOymkOydhCDsmYTshLHtlojsnYQg65WMIOyLpO2WieuQnOuLpC4gKi9cclxuICAgIG9uQ29tcGxldGUodCkge1xyXG4gICAgICAgIHRoaXMuZW5kKHQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiDso7zslrTsp4Qg7KKM7ZGc66W8IO2BtOumre2WiOydhCDrlYwg66eI7Jqw7IqkIOuTnOuemOq3uC/rhpPquLAg7J2067Kk7Yq466W8IO2ZnOyEse2ZlOyLnO2CrCDqsoPsnbjsp4Ag7Jes67aAXHJcbiAgICAgKiBhY2NlcHTrkJjsp4Ag7JWK7Jy866m0ICoq7J6F66ClIOyekOyytOqwgCDsmYTsoITtnogg66y07Iuc65CY7Ja0IOuyhOumsOuLpC4qKlxyXG4gICAgICovXHJcbiAgICBhY2NlcHRDb29yZGluYXRlKHgsIHkpIHtcclxuICAgICAgICAvLyDtjbzsppAg67CWIOyYgeyXreydhCDtgbTrpq3tlZjrqbQg65Oc656Y6re466GcIOydtOyWtOyngOyngCDslYrripTri6QuXHJcbiAgICAgICAgaWYgKHggPCB0aGlzLmxlZnQgfHwgeCA+IHRoaXMucmlnaHQgfHwgeSA8IHRoaXMudG9wIHx8IHkgPiB0aGlzLmJvdHRvbSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIOybgOyngeydvCDsiJgg7JeG64qUIOyhsOqwgeydhCDtgbTrpq3tlZjrqbQg65Oc656Y6re466GcIOydtOyWtOyngOyngCDslYrripTri6QuXHJcbiAgICAgICAgbGV0IFtibGFua1JvdywgYmxhbmtDb2xdID0gdGhpcy5yb3dDb2xPZkJsYW5rO1xyXG4gICAgICAgIGxldCBbcm93LCBjb2xdID0gdGhpcy5nZXRSb3dDb2xBdCh4LCB5KTtcclxuICAgICAgICBpZiAoKGJsYW5rUm93ID09IHJvdykgPT0gKGJsYW5rQ29sID09IGNvbCkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKiDqt7jrprDri6QuICovXHJcbiAgICByZW5kZXIoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIDM2MCwgNDgwKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHBpZWNlIG9mIHRoaXMucGllY2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChwaWVjZS50YWcgIT0gdGhpcy5ibGFua1RhZylcclxuICAgICAgICAgICAgICAgIHBpZWNlLnJlbmRlcihjb250ZXh0LCB0aGlzLnNob3dMYWJlbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudGltZXIucmVuZGVyKGNvbnRleHQsIHRoaXMubGVmdCwgdGhpcy5sZW4sIDQyMCk7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Game.ts\n");

/***/ }),

/***/ "./src/Grab.ts":
/*!*********************!*\
  !*** ./src/Grab.ts ***!
  \*********************/
/*! exports provided: Grab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Grab\", function() { return Grab; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\r\nclass Grab {\r\n    constructor() {\r\n        /** 현재 누른 퍼즐 조각 */\r\n        this.piece = null;\r\n        /** 현재 누른 퍼즐 조각의 원래 행렬 위치 */\r\n        this.row = null;\r\n        this.col = null;\r\n        /** 마우스 버튼이 눌리는 그 순간에 현재 퍼즐 조각의 왼쪽 끝에 상대적인 마우스 위치 */\r\n        this.pieceX = null;\r\n        this.pieceY = null;\r\n        /**\r\n         * 현재 누른 퍼즐 조각과 같은 행 또는 열에 있는 조각들의 모음이다.\r\n         * 충돌 테스트는 여기 있는 조각들에 한해서 실행된다.\r\n         */\r\n        this.concern = null;\r\n        /**\r\n         * 현재 누른 퍼즐 조각을 어느 방향으로 움직일 수 있는지 나타낸다.\r\n         * 이 값이 'h'이면 퍼즐 조각을 좌우좌로 움직일 수 있고, 퍼즐 중에서 행(row)이 선택된 것이다.\r\n         * 'v'이면 퍼즐 조각을 세로로 움직일 수 있고, 열(col)이 선택된 것이다.\r\n         */\r\n        this.moveDirection = null;\r\n    }\r\n    /** (rAF-sync) 마우스를 누를 때 실행된다. */\r\n    onMousedown(input, game) {\r\n        // 여기서는 [blankRow, blankCol] != [row, col]이다. 만약 둘이 같다면 이것은 실행조차 되지 않는다.\r\n        let { startX: x, startY: y } = input;\r\n        let [blankRow, blankCol] = game.rowColOfBlank;\r\n        let [row, col] = game.getRowColAt(x, y);\r\n        if (blankRow == row) {\r\n            this.moveDirection = \"h\";\r\n            this.concern = game.getVector(blankRow, \"row\");\r\n        }\r\n        else if (blankCol == col) {\r\n            this.moveDirection = \"v\";\r\n            this.concern = game.getVector(blankCol, \"col\");\r\n        }\r\n        this.row = row;\r\n        this.col = col;\r\n        this.piece = game.getPieceAt(row, col);\r\n        this.pieceX = x - this.piece.x;\r\n        this.pieceY = y - this.piece.y;\r\n    }\r\n    /** (rAF-sync) 마우스를 놓을 때 실행된다. */\r\n    onMouseup(input, game) {\r\n        let { startX, startY, endX, endY, moveX, moveY, startTime, endTime } = input;\r\n        let distance = this.moveDirection == 'h' ? endX - startX : endY - startY;\r\n        // console.log ({ \r\n        // \tvx : moveX, \r\n        // \tvy : moveY,\r\n        // \tdt : endTime - startTime,\r\n        // \tdistance\r\n        // });\r\n        let isTap = (endTime - startTime < 300) && (Math.abs(distance) < 5);\r\n        if (isTap) {\r\n            // 퍼즐 조각을 클릭하기만 한 것이라면 모델에서 조각들을 직접 회전시키고, 뷰를 업데이트한다.\r\n            /** 태그의 배열 */\r\n            const vector = [];\r\n            const start = this.moveDirection == 'h' ? this.row * game.size : this.col;\r\n            const increment = this.moveDirection == 'h' ? 1 : game.size;\r\n            // 퍼즐 모델에서 태그의 행벡터 또는 열벡터를 가져온다.\r\n            for (let i = 0; i < game.size; i++) {\r\n                let index = start + increment * i;\r\n                vector[i] = game.puzzleModel[index];\r\n            }\r\n            // 클릭한 퍼즐의 태그가 뭐였더라?\r\n            const currentTag = this.piece.tag;\r\n            const currentTagPos = vector.indexOf(currentTag);\r\n            // 빈칸의 위치를 얻는다.\r\n            const blankTagPos = vector.indexOf(game.blankTag);\r\n            // 빈칸이 현재 퍼즐 조각보다 뒤에(오른쪽 또는 아래) 있는지, 앞에 있는지(왼쪽 또는 위)를 판단한여 회전을 시킨다.\r\n            if (currentTagPos < blankTagPos) {\r\n                vector.splice(blankTagPos, 1);\r\n                vector.splice(currentTagPos, 0, game.blankTag);\r\n            }\r\n            else {\r\n                vector.splice(blankTagPos, 1);\r\n                vector.splice(currentTagPos, 0, game.blankTag);\r\n            }\r\n            // 변경된 모델을 기반으로 조각들의 위치를 업데이트한다.\r\n            for (let i = 0; i < game.size; i++) {\r\n                let index = start + increment * i;\r\n                game.puzzleModel[index] = vector[i];\r\n                let p = game.pieces[vector[i]];\r\n                let [row, col] = [Math.floor(index / game.size), index % game.size];\r\n                let [destX, destY] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getPosition\"])(row, col, game.len, game.left, game.top, game.size);\r\n                p.destX = destX;\r\n                p.destY = destY;\r\n            }\r\n        }\r\n        else {\r\n            // 퍼즐 조각을 물리적으로 움직인 것이라면 영향을 받은 모든 조각들을 바른 위치에 놓은 후, 모델을 업데이트한다.\r\n            this.updateModelByView(game);\r\n        }\r\n        // 이제 마우스 놓기 처리가 완전히 끝났을 것이므로 데이터를 정리한다.\r\n        this.piece = null;\r\n        this.moveDirection = null;\r\n        this.concern = null;\r\n    }\r\n    /**\r\n     * 영향을 받은 퍼즐 조각들의 현재 위치(Piece.prototype.x, Piece.prototype.y)만을 가지고\r\n     * 모델을 업데이트한다.\r\n     * @deprecated 속도는 전혀 고려되지 않는다.\r\n     */\r\n    updateModelByView(game) {\r\n        let modelChanges = {};\r\n        for (const piece of this.concern) {\r\n            if (piece.tag == game.blankTag)\r\n                continue;\r\n            // 영향을 받은 모든 퍼즐 조각들의 모델 행렬 위치를 얻는다. \r\n            let [row, col] = piece.whereami(game.left, game.top, game.len, game.size);\r\n            // 변경점에 퍼즐 조각의 새로운 위치를 설정한다.\r\n            modelChanges[row * game.size + col] = piece.tag;\r\n            // 조각이 새로운 위치로 이동하도록 destX, destY를 설정한다.\r\n            let destX = game.left + col * game.pieceSize;\r\n            let destY = game.top + row * game.pieceSize;\r\n            piece.destX = destX;\r\n            piece.destY = destY;\r\n        }\r\n        // 옮기기 이후 모델의 변경점(changes)을 찾는다.\r\n        const start = this.moveDirection == 'h' ? this.row * game.size : this.col;\r\n        const increment = this.moveDirection == 'h' ? 1 : game.size;\r\n        // 빈칸을 찾는다.\r\n        for (let i = 0; i < game.size; i++) {\r\n            let index = start + increment * i;\r\n            if (!(index in modelChanges)) {\r\n                modelChanges[index] = game.blankTag;\r\n                break;\r\n            }\r\n        }\r\n        // 변경점을 퍼즐 모델에 적용시킨다.\r\n        for (const index in modelChanges) {\r\n            const tag = modelChanges[index];\r\n            game.puzzleModel[index] = tag;\r\n        }\r\n    }\r\n    /**\r\n     * 마우스를 누르고 있는 때에 한해 업데이트(rAF)가 발생할 때 호출된다. 즉, 실질적 업데이트와 같다.\r\n     */\r\n    update(game) {\r\n        if (this.moveDirection == \"h\" && game.input.beforeX != null) {\r\n            let x = game.input.x - this.pieceX;\r\n            this.piece.velX = x - this.piece.x;\r\n            // this.piece.push(game.input.moveX, 'h', game, this.concern);\r\n        }\r\n        else if (this.moveDirection == \"v\" && game.input.beforeY != null) {\r\n            let y = game.input.y - this.pieceY;\r\n            this.piece.velY = y - this.piece.y;\r\n            // this.piece.push(game.input.moveY, 'v', game, this.concern);\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvR3JhYi50cz81ZTZjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFzQztBQUMvQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0RBQStEO0FBQzVFO0FBQ0EseUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGVBQWU7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsMERBQVc7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZUFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9HcmFiLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UG9zaXRpb24gfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5leHBvcnQgY2xhc3MgR3JhYiB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvKiog7ZiE7J6sIOuIhOuluCDtjbzsppAg7KGw6rCBICovXHJcbiAgICAgICAgdGhpcy5waWVjZSA9IG51bGw7XHJcbiAgICAgICAgLyoqIO2YhOyerCDriITrpbgg7Y287KaQIOyhsOqwgeydmCDsm5Drnpgg7ZaJ66CsIOychOy5mCAqL1xyXG4gICAgICAgIHRoaXMucm93ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbCA9IG51bGw7XHJcbiAgICAgICAgLyoqIOuniOyasOyKpCDrsoTtirzsnbQg64iM66as64qUIOq3uCDsiJzqsITsl5Ag7ZiE7J6sIO2NvOymkCDsobDqsIHsnZgg7Jm87Kq9IOuBneyXkCDsg4HrjIDsoIHsnbgg66eI7Jqw7IqkIOychOy5mCAqL1xyXG4gICAgICAgIHRoaXMucGllY2VYID0gbnVsbDtcclxuICAgICAgICB0aGlzLnBpZWNlWSA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICog7ZiE7J6sIOuIhOuluCDtjbzsppAg7KGw6rCB6rO8IOqwmeydgCDtlokg65iQ64qUIOyXtOyXkCDsnojripQg7KGw6rCB65Ok7J2YIOuqqOydjOydtOuLpC5cclxuICAgICAgICAgKiDstqnrj4wg7YWM7Iqk7Yq464qUIOyXrOq4sCDsnojripQg7KGw6rCB65Ok7JeQIO2VnO2VtOyEnCDsi6TtlonrkJzri6QuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5jb25jZXJuID0gbnVsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiDtmITsnqwg64iE66W4IO2NvOymkCDsobDqsIHsnYQg7Ja064qQIOuwqe2WpeycvOuhnCDsm4Dsp4Hsnbwg7IiYIOyeiOuKlOyngCDrgpjtg4Drgrjri6QuXHJcbiAgICAgICAgICog7J20IOqwkuydtCAnaCfsnbTrqbQg7Y287KaQIOyhsOqwgeydhCDsoozsmrDsoozroZwg7JuA7KeB7J28IOyImCDsnojqs6AsIO2NvOymkCDspJHsl5DshJwg7ZaJKHJvdynsnbQg7ISg7YOd65CcIOqyg+ydtOuLpC5cclxuICAgICAgICAgKiAndifsnbTrqbQg7Y287KaQIOyhsOqwgeydhCDshLjroZzroZwg7JuA7KeB7J28IOyImCDsnojqs6AsIOyXtChjb2wp7J20IOyEoO2DneuQnCDqsoPsnbTri6QuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tb3ZlRGlyZWN0aW9uID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKiAockFGLXN5bmMpIOuniOyasOyKpOulvCDriITrpbwg65WMIOyLpO2WieuQnOuLpC4gKi9cclxuICAgIG9uTW91c2Vkb3duKGlucHV0LCBnYW1lKSB7XHJcbiAgICAgICAgLy8g7Jes6riw7ISc64qUIFtibGFua1JvdywgYmxhbmtDb2xdICE9IFtyb3csIGNvbF3snbTri6QuIOunjOyVvSDrkZjsnbQg6rCZ64uk66m0IOydtOqyg+ydgCDsi6TtlonsobDssKgg65CY7KeAIOyViuuKlOuLpC5cclxuICAgICAgICBsZXQgeyBzdGFydFg6IHgsIHN0YXJ0WTogeSB9ID0gaW5wdXQ7XHJcbiAgICAgICAgbGV0IFtibGFua1JvdywgYmxhbmtDb2xdID0gZ2FtZS5yb3dDb2xPZkJsYW5rO1xyXG4gICAgICAgIGxldCBbcm93LCBjb2xdID0gZ2FtZS5nZXRSb3dDb2xBdCh4LCB5KTtcclxuICAgICAgICBpZiAoYmxhbmtSb3cgPT0gcm93KSB7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZURpcmVjdGlvbiA9IFwiaFwiO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmNlcm4gPSBnYW1lLmdldFZlY3RvcihibGFua1JvdywgXCJyb3dcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGJsYW5rQ29sID09IGNvbCkge1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVEaXJlY3Rpb24gPSBcInZcIjtcclxuICAgICAgICAgICAgdGhpcy5jb25jZXJuID0gZ2FtZS5nZXRWZWN0b3IoYmxhbmtDb2wsIFwiY29sXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJvdyA9IHJvdztcclxuICAgICAgICB0aGlzLmNvbCA9IGNvbDtcclxuICAgICAgICB0aGlzLnBpZWNlID0gZ2FtZS5nZXRQaWVjZUF0KHJvdywgY29sKTtcclxuICAgICAgICB0aGlzLnBpZWNlWCA9IHggLSB0aGlzLnBpZWNlLng7XHJcbiAgICAgICAgdGhpcy5waWVjZVkgPSB5IC0gdGhpcy5waWVjZS55O1xyXG4gICAgfVxyXG4gICAgLyoqIChyQUYtc3luYykg66eI7Jqw7Iqk66W8IOuGk+ydhCDrlYwg7Iuk7ZaJ65Cc64ukLiAqL1xyXG4gICAgb25Nb3VzZXVwKGlucHV0LCBnYW1lKSB7XHJcbiAgICAgICAgbGV0IHsgc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFksIG1vdmVYLCBtb3ZlWSwgc3RhcnRUaW1lLCBlbmRUaW1lIH0gPSBpbnB1dDtcclxuICAgICAgICBsZXQgZGlzdGFuY2UgPSB0aGlzLm1vdmVEaXJlY3Rpb24gPT0gJ2gnID8gZW5kWCAtIHN0YXJ0WCA6IGVuZFkgLSBzdGFydFk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cgKHsgXHJcbiAgICAgICAgLy8gXHR2eCA6IG1vdmVYLCBcclxuICAgICAgICAvLyBcdHZ5IDogbW92ZVksXHJcbiAgICAgICAgLy8gXHRkdCA6IGVuZFRpbWUgLSBzdGFydFRpbWUsXHJcbiAgICAgICAgLy8gXHRkaXN0YW5jZVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIGxldCBpc1RhcCA9IChlbmRUaW1lIC0gc3RhcnRUaW1lIDwgMzAwKSAmJiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgNSk7XHJcbiAgICAgICAgaWYgKGlzVGFwKSB7XHJcbiAgICAgICAgICAgIC8vIO2NvOymkCDsobDqsIHsnYQg7YG066at7ZWY6riw66eMIO2VnCDqsoPsnbTrnbzrqbQg66qo64247JeQ7IScIOyhsOqwgeuTpOydhCDsp4HsoJEg7ZqM7KCE7Iuc7YKk6rOgLCDrt7Drpbwg7JeF642w7J207Yq47ZWc64ukLlxyXG4gICAgICAgICAgICAvKiog7YOc6re47J2YIOuwsOyXtCAqL1xyXG4gICAgICAgICAgICBjb25zdCB2ZWN0b3IgPSBbXTtcclxuICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLm1vdmVEaXJlY3Rpb24gPT0gJ2gnID8gdGhpcy5yb3cgKiBnYW1lLnNpemUgOiB0aGlzLmNvbDtcclxuICAgICAgICAgICAgY29uc3QgaW5jcmVtZW50ID0gdGhpcy5tb3ZlRGlyZWN0aW9uID09ICdoJyA/IDEgOiBnYW1lLnNpemU7XHJcbiAgICAgICAgICAgIC8vIO2NvOymkCDrqqjrjbjsl5DshJwg7YOc6re47J2YIO2Wieuyoe2EsCDrmJDripQg7Je067Kh7YSw66W8IOqwgOyguOyYqOuLpC5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lLnNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gc3RhcnQgKyBpbmNyZW1lbnQgKiBpO1xyXG4gICAgICAgICAgICAgICAgdmVjdG9yW2ldID0gZ2FtZS5wdXp6bGVNb2RlbFtpbmRleF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8g7YG066at7ZWcIO2NvOymkOydmCDtg5zqt7jqsIAg662Q7JiA642U6528P1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGFnID0gdGhpcy5waWVjZS50YWc7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUYWdQb3MgPSB2ZWN0b3IuaW5kZXhPZihjdXJyZW50VGFnKTtcclxuICAgICAgICAgICAgLy8g67mI7Lm47J2YIOychOy5mOulvCDslrvripTri6QuXHJcbiAgICAgICAgICAgIGNvbnN0IGJsYW5rVGFnUG9zID0gdmVjdG9yLmluZGV4T2YoZ2FtZS5ibGFua1RhZyk7XHJcbiAgICAgICAgICAgIC8vIOu5iOy5uOydtCDtmITsnqwg7Y287KaQIOyhsOqwgeuztOuLpCDrkqTsl5Ao7Jik66W47Kq9IOuYkOuKlCDslYTrnpgpIOyeiOuKlOyngCwg7JWe7JeQIOyeiOuKlOyngCjsmbzsqr0g65iQ64qUIOychCnrpbwg7YyQ64uo7ZWc7JesIO2ajOyghOydhCDsi5ztgqjri6QuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50VGFnUG9zIDwgYmxhbmtUYWdQb3MpIHtcclxuICAgICAgICAgICAgICAgIHZlY3Rvci5zcGxpY2UoYmxhbmtUYWdQb3MsIDEpO1xyXG4gICAgICAgICAgICAgICAgdmVjdG9yLnNwbGljZShjdXJyZW50VGFnUG9zLCAwLCBnYW1lLmJsYW5rVGFnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlY3Rvci5zcGxpY2UoYmxhbmtUYWdQb3MsIDEpO1xyXG4gICAgICAgICAgICAgICAgdmVjdG9yLnNwbGljZShjdXJyZW50VGFnUG9zLCAwLCBnYW1lLmJsYW5rVGFnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyDrs4Dqsr3rkJwg66qo64247J2EIOq4sOuwmOycvOuhnCDsobDqsIHrk6TsnZgg7JyE7LmY66W8IOyXheuNsOydtO2KuO2VnOuLpC5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lLnNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gc3RhcnQgKyBpbmNyZW1lbnQgKiBpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5wdXp6bGVNb2RlbFtpbmRleF0gPSB2ZWN0b3JbaV07XHJcbiAgICAgICAgICAgICAgICBsZXQgcCA9IGdhbWUucGllY2VzW3ZlY3RvcltpXV07XHJcbiAgICAgICAgICAgICAgICBsZXQgW3JvdywgY29sXSA9IFtNYXRoLmZsb29yKGluZGV4IC8gZ2FtZS5zaXplKSwgaW5kZXggJSBnYW1lLnNpemVdO1xyXG4gICAgICAgICAgICAgICAgbGV0IFtkZXN0WCwgZGVzdFldID0gZ2V0UG9zaXRpb24ocm93LCBjb2wsIGdhbWUubGVuLCBnYW1lLmxlZnQsIGdhbWUudG9wLCBnYW1lLnNpemUpO1xyXG4gICAgICAgICAgICAgICAgcC5kZXN0WCA9IGRlc3RYO1xyXG4gICAgICAgICAgICAgICAgcC5kZXN0WSA9IGRlc3RZO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDtjbzsppAg7KGw6rCB7J2EIOusvOumrOyggeycvOuhnCDsm4Dsp4Hsnbgg6rKD7J20652866m0IOyYge2WpeydhCDrsJvsnYAg66qo65OgIOyhsOqwgeuTpOydhCDrsJTrpbgg7JyE7LmY7JeQIOuGk+ydgCDtm4QsIOuqqOuNuOydhCDsl4XrjbDsnbTtirjtlZzri6QuXHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTW9kZWxCeVZpZXcoZ2FtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOydtOygnCDrp4jsmrDsiqQg64aT6riwIOyymOumrOqwgCDsmYTsoITtnogg64Gd64Ks7J2EIOqyg+ydtOuvgOuhnCDrjbDsnbTthLDrpbwg7KCV66as7ZWc64ukLlxyXG4gICAgICAgIHRoaXMucGllY2UgPSBudWxsO1xyXG4gICAgICAgIHRoaXMubW92ZURpcmVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb25jZXJuID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog7JiB7Zal7J2EIOuwm+ydgCDtjbzsppAg7KGw6rCB65Ok7J2YIO2YhOyerCDsnITsuZgoUGllY2UucHJvdG90eXBlLngsIFBpZWNlLnByb3RvdHlwZS55KeunjOydhCDqsIDsp4Dqs6BcclxuICAgICAqIOuqqOuNuOydhCDsl4XrjbDsnbTtirjtlZzri6QuXHJcbiAgICAgKiBAZGVwcmVjYXRlZCDsho3rj4TripQg7KCE7ZiAIOqzoOugpOuQmOyngCDslYrripTri6QuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZU1vZGVsQnlWaWV3KGdhbWUpIHtcclxuICAgICAgICBsZXQgbW9kZWxDaGFuZ2VzID0ge307XHJcbiAgICAgICAgZm9yIChjb25zdCBwaWVjZSBvZiB0aGlzLmNvbmNlcm4pIHtcclxuICAgICAgICAgICAgaWYgKHBpZWNlLnRhZyA9PSBnYW1lLmJsYW5rVGFnKVxyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIC8vIOyYge2WpeydhCDrsJvsnYAg66qo65OgIO2NvOymkCDsobDqsIHrk6TsnZgg66qo6424IO2WieugrCDsnITsuZjrpbwg7Ja764qU64ukLiBcclxuICAgICAgICAgICAgbGV0IFtyb3csIGNvbF0gPSBwaWVjZS53aGVyZWFtaShnYW1lLmxlZnQsIGdhbWUudG9wLCBnYW1lLmxlbiwgZ2FtZS5zaXplKTtcclxuICAgICAgICAgICAgLy8g67OA6rK97KCQ7JeQIO2NvOymkCDsobDqsIHsnZgg7IOI66Gc7Jq0IOychOy5mOulvCDshKTsoJXtlZzri6QuXHJcbiAgICAgICAgICAgIG1vZGVsQ2hhbmdlc1tyb3cgKiBnYW1lLnNpemUgKyBjb2xdID0gcGllY2UudGFnO1xyXG4gICAgICAgICAgICAvLyDsobDqsIHsnbQg7IOI66Gc7Jq0IOychOy5mOuhnCDsnbTrj5ntlZjrj4TroZ0gZGVzdFgsIGRlc3RZ66W8IOyEpOygle2VnOuLpC5cclxuICAgICAgICAgICAgbGV0IGRlc3RYID0gZ2FtZS5sZWZ0ICsgY29sICogZ2FtZS5waWVjZVNpemU7XHJcbiAgICAgICAgICAgIGxldCBkZXN0WSA9IGdhbWUudG9wICsgcm93ICogZ2FtZS5waWVjZVNpemU7XHJcbiAgICAgICAgICAgIHBpZWNlLmRlc3RYID0gZGVzdFg7XHJcbiAgICAgICAgICAgIHBpZWNlLmRlc3RZID0gZGVzdFk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOyYruq4sOq4sCDsnbTtm4Qg66qo64247J2YIOuzgOqyveygkChjaGFuZ2VzKeydhCDssL7ripTri6QuXHJcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLm1vdmVEaXJlY3Rpb24gPT0gJ2gnID8gdGhpcy5yb3cgKiBnYW1lLnNpemUgOiB0aGlzLmNvbDtcclxuICAgICAgICBjb25zdCBpbmNyZW1lbnQgPSB0aGlzLm1vdmVEaXJlY3Rpb24gPT0gJ2gnID8gMSA6IGdhbWUuc2l6ZTtcclxuICAgICAgICAvLyDruYjsubjsnYQg7LC+64qU64ukLlxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZS5zaXplOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gc3RhcnQgKyBpbmNyZW1lbnQgKiBpO1xyXG4gICAgICAgICAgICBpZiAoIShpbmRleCBpbiBtb2RlbENoYW5nZXMpKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RlbENoYW5nZXNbaW5kZXhdID0gZ2FtZS5ibGFua1RhZztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOuzgOqyveygkOydhCDtjbzsppAg66qo64247JeQIOyggeyaqeyLnO2CqOuLpC5cclxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IGluIG1vZGVsQ2hhbmdlcykge1xyXG4gICAgICAgICAgICBjb25zdCB0YWcgPSBtb2RlbENoYW5nZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICBnYW1lLnB1enpsZU1vZGVsW2luZGV4XSA9IHRhZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOuniOyasOyKpOulvCDriITrpbTqs6Ag7J6I64qUIOuVjOyXkCDtlZztlbQg7JeF642w7J207Yq4KHJBRinqsIAg67Cc7IOd7ZWgIOuVjCDtmLjstpzrkJzri6QuIOymiSwg7Iuk7KeI7KCBIOyXheuNsOydtO2KuOyZgCDqsJnri6QuXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZShnYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW92ZURpcmVjdGlvbiA9PSBcImhcIiAmJiBnYW1lLmlucHV0LmJlZm9yZVggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGdhbWUuaW5wdXQueCAtIHRoaXMucGllY2VYO1xyXG4gICAgICAgICAgICB0aGlzLnBpZWNlLnZlbFggPSB4IC0gdGhpcy5waWVjZS54O1xyXG4gICAgICAgICAgICAvLyB0aGlzLnBpZWNlLnB1c2goZ2FtZS5pbnB1dC5tb3ZlWCwgJ2gnLCBnYW1lLCB0aGlzLmNvbmNlcm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLm1vdmVEaXJlY3Rpb24gPT0gXCJ2XCIgJiYgZ2FtZS5pbnB1dC5iZWZvcmVZICE9IG51bGwpIHtcclxuICAgICAgICAgICAgbGV0IHkgPSBnYW1lLmlucHV0LnkgLSB0aGlzLnBpZWNlWTtcclxuICAgICAgICAgICAgdGhpcy5waWVjZS52ZWxZID0geSAtIHRoaXMucGllY2UueTtcclxuICAgICAgICAgICAgLy8gdGhpcy5waWVjZS5wdXNoKGdhbWUuaW5wdXQubW92ZVksICd2JywgZ2FtZSwgdGhpcy5jb25jZXJuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Grab.ts\n");

/***/ }),

/***/ "./src/Input.ts":
/*!**********************!*\
  !*** ./src/Input.ts ***!
  \**********************/
/*! exports provided: Input */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Input\", function() { return Input; });\n/**\r\n * DOM 이벤트를 이용하여 마우스 입력을 받아들이는 컴포넌트\r\n * 이벤트 루프가 rAF보다 훨씬 빈번하게 일어나므로 입력값을 rAF-synchronize시키는 기능도 있다.\r\n */\r\nclass Input {\r\n    constructor() {\r\n        /**\r\n         * EventListener로 받아들인 임시 마우스 위치 (또는 퍼즐 위치)\r\n         * Listener가 마우스 좌표를 받아들이면 퍼즐 조각에 바로 반영하지 않고, requestAnimationFrame이 돌아올 때까지 기다린다. (이벤트 핸들링이 rAF보다 훨씬 많이 발생한다.)\r\n         * 따라서 쏟아지는 이벤트로 인해 불필요하게 성능이 저하되는 것을 방지한다.\r\n         * 어떤 이벤트 루프에서 rAF가 발생하지 않으면 해당 루프로 받아들인 좌표는 버려지게 된다.\r\n         * */\r\n        this.inputX = null;\r\n        this.inputY = null;\r\n        /**\r\n         * 컴포넌트 외부에서 실제로 쓸 수 있도록 한 현재 마우스 좌표\r\n         */\r\n        this.x = null;\r\n        this.y = null;\r\n        /** (private) 마지막 update(rAF)가 발생하기 직전의 마우스 위치 */\r\n        this._beforeX = null;\r\n        this._beforeY = null;\r\n        /** (private) update(rAF) 간의 beforeX, beforeY의 변화량 */\r\n        this._moveX = null;\r\n        this._moveY = null;\r\n        /** 마우스 버튼을 누른 위치와 시각 */\r\n        this.startX = null;\r\n        this.startY = null;\r\n        this.startTime = null;\r\n        /** 마우스 버튼을 놓은 위치와 시각 */\r\n        this.endX = null;\r\n        this.endY = null;\r\n        this.endTime = null;\r\n    }\r\n    /** 마지막 update(rAF)가 발생하기 직전의 마우스 위치 */\r\n    get beforeX() { return this._beforeX; }\r\n    get beforeY() { return this._beforeY; }\r\n    /** update(rAF) 간의 beforeX, beforeY의 변화량 */\r\n    get moveX() { return this._moveX; }\r\n    get moveY() { return this._moveY; }\r\n    /** 입력 컴포넌트를 뷰에 연결한다. */\r\n    connect(canvas, listener) {\r\n        this.disconnect(canvas);\r\n        this.mousemove = ev => {\r\n            this.handleMousemove(ev.offsetX, ev.offsetY, listener);\r\n        };\r\n        this.mouseup = ev => {\r\n            this.handleMouseup(ev.offsetX, ev.offsetY, ev.timeStamp, listener);\r\n            canvas.removeEventListener('mousemove', this.mousemove);\r\n            document.removeEventListener('mouseup', this.mouseup);\r\n            // listener.rAFSyncMouseupMessage = true;\r\n            listener.putMouseupMessage();\r\n        };\r\n        this.mousedown = ev => {\r\n            ev.preventDefault();\r\n            if (listener.acceptCoordinate(ev.offsetX, ev.offsetY)) {\r\n                this.handleMousedown(ev.offsetX, ev.offsetY, ev.timeStamp, listener);\r\n                canvas.addEventListener('mousemove', this.mousemove);\r\n                document.addEventListener('mouseup', this.mouseup);\r\n            }\r\n            return false;\r\n        };\r\n        canvas.addEventListener('mousedown', this.mousedown);\r\n    }\r\n    /** 입력 컴포넌트 연결을 해제한다. */\r\n    disconnect(canvas) {\r\n        if (this.mousedown) {\r\n            canvas.removeEventListener('mousedown', this.mousedown);\r\n            this.mousedown = null;\r\n        }\r\n        if (this.mousemove) {\r\n            canvas.removeEventListener('mousemove', this.mousemove);\r\n            this.mousemove = null;\r\n        }\r\n        if (this.mouseup) {\r\n            document.removeEventListener('mouseup', this.mouseup);\r\n            this.mouseup = null;\r\n        }\r\n    }\r\n    handleMousedown(x, y, t, listener) {\r\n        this.startX = x;\r\n        this.startY = y;\r\n        this.startTime = t;\r\n        this.endX = null;\r\n        this.endY = null;\r\n        this.endTime = null;\r\n        this._beforeX = null;\r\n        this._beforeY = null;\r\n        this.inputX = null;\r\n        this.inputY = null;\r\n        this._moveX = null;\r\n        this._moveY = null;\r\n        listener.putMousedownMessage();\r\n    }\r\n    handleMousemove(x, y, listener) {\r\n        this.inputX = x;\r\n        this.inputY = y;\r\n    }\r\n    handleMouseup(x, y, t, listener) {\r\n        this.endX = x;\r\n        this.endY = y;\r\n        this.endTime = t;\r\n        listener.putMouseupMessage();\r\n    }\r\n    /** rAF */\r\n    clock() {\r\n        this._moveX = 0;\r\n        this._moveY = 0;\r\n        if (this._beforeX != null) {\r\n            this._moveX = this.inputX - this._beforeX;\r\n        }\r\n        if (this._beforeY != null) {\r\n            this._moveY = this.inputY - this._beforeY;\r\n        }\r\n        if (this.inputX != null)\r\n            this._beforeX = this.inputX;\r\n        if (this.inputY != null)\r\n            this._beforeY = this.inputY;\r\n        this.x = this.inputX;\r\n        this.y = this.inputY;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvSW5wdXQudHM/MzUzZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzQkFBc0I7QUFDekMsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBLGlCQUFpQixvQkFBb0I7QUFDckMsaUJBQWlCLG9CQUFvQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIuL3NyYy9JbnB1dC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBET00g7J2067Kk7Yq466W8IOydtOyaqe2VmOyXrCDrp4jsmrDsiqQg7J6F66Cl7J2EIOuwm+yVhOuTpOydtOuKlCDsu7Ttj6zrhIztirhcclxuICog7J2067Kk7Yq4IOujqO2UhOqwgCByQUbrs7Tri6Qg7Zuo7JSsIOu5iOuyiO2VmOqyjCDsnbzslrTrgpjrr4DroZwg7J6F66Cl6rCS7J2EIHJBRi1zeW5jaHJvbml6ZeyLnO2CpOuKlCDquLDriqXrj4Qg7J6I64ukLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIElucHV0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV2ZW50TGlzdGVuZXLroZwg67Cb7JWE65Ok7J24IOyehOyLnCDrp4jsmrDsiqQg7JyE7LmYICjrmJDripQg7Y287KaQIOychOy5mClcclxuICAgICAgICAgKiBMaXN0ZW5lcuqwgCDrp4jsmrDsiqQg7KKM7ZGc66W8IOuwm+yVhOuTpOydtOuptCDtjbzsppAg7KGw6rCB7JeQIOuwlOuhnCDrsJjsmIHtlZjsp4Ag7JWK6rOgLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWXsnbQg64+M7JWE7JisIOuVjOq5jOyngCDquLDri6TrprDri6QuICjsnbTrsqTtirgg7ZW465Ok66eB7J20IHJBRuuztOuLpCDtm6jslKwg66eO7J20IOuwnOyDne2VnOuLpC4pXHJcbiAgICAgICAgICog65Sw65287IScIOyPn+yVhOyngOuKlCDsnbTrsqTtirjroZwg7J247ZW0IOu2iO2VhOyalO2VmOqyjCDshLHriqXsnbQg7KCA7ZWY65CY64qUIOqyg+ydhCDrsKnsp4DtlZzri6QuXHJcbiAgICAgICAgICog7Ja065akIOydtOuypO2KuCDro6jtlITsl5DshJwgckFG6rCAIOuwnOyDne2VmOyngCDslYrsnLzrqbQg7ZW064u5IOujqO2UhOuhnCDrsJvslYTrk6Tsnbgg7KKM7ZGc64qUIOuyhOugpOyngOqyjCDrkJzri6QuXHJcbiAgICAgICAgICogKi9cclxuICAgICAgICB0aGlzLmlucHV0WCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnB1dFkgPSBudWxsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIOy7tO2PrOuEjO2KuCDsmbjrtoDsl5DshJwg7Iuk7KCc66GcIOyTuCDsiJgg7J6I64+E66GdIO2VnCDtmITsnqwg66eI7Jqw7IqkIOyijO2RnFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMueCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy55ID0gbnVsbDtcclxuICAgICAgICAvKiogKHByaXZhdGUpIOuniOyngOuniSB1cGRhdGUockFGKeqwgCDrsJzsg53tlZjquLAg7KeB7KCE7J2YIOuniOyasOyKpCDsnITsuZggKi9cclxuICAgICAgICB0aGlzLl9iZWZvcmVYID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9iZWZvcmVZID0gbnVsbDtcclxuICAgICAgICAvKiogKHByaXZhdGUpIHVwZGF0ZShyQUYpIOqwhOydmCBiZWZvcmVYLCBiZWZvcmVZ7J2YIOuzgO2ZlOufiSAqL1xyXG4gICAgICAgIHRoaXMuX21vdmVYID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9tb3ZlWSA9IG51bGw7XHJcbiAgICAgICAgLyoqIOuniOyasOyKpCDrsoTtirzsnYQg64iE66W4IOychOy5mOyZgCDsi5zqsIEgKi9cclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcclxuICAgICAgICAvKiog66eI7Jqw7IqkIOuyhO2KvOydhCDrhpPsnYAg7JyE7LmY7JmAIOyLnOqwgSAqL1xyXG4gICAgICAgIHRoaXMuZW5kWCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5lbmRZID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVuZFRpbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqIOuniOyngOuniSB1cGRhdGUockFGKeqwgCDrsJzsg53tlZjquLAg7KeB7KCE7J2YIOuniOyasOyKpCDsnITsuZggKi9cclxuICAgIGdldCBiZWZvcmVYKCkgeyByZXR1cm4gdGhpcy5fYmVmb3JlWDsgfVxyXG4gICAgZ2V0IGJlZm9yZVkoKSB7IHJldHVybiB0aGlzLl9iZWZvcmVZOyB9XHJcbiAgICAvKiogdXBkYXRlKHJBRikg6rCE7J2YIGJlZm9yZVgsIGJlZm9yZVnsnZgg67OA7ZmU65+JICovXHJcbiAgICBnZXQgbW92ZVgoKSB7IHJldHVybiB0aGlzLl9tb3ZlWDsgfVxyXG4gICAgZ2V0IG1vdmVZKCkgeyByZXR1cm4gdGhpcy5fbW92ZVk7IH1cclxuICAgIC8qKiDsnoXroKUg7Lu07Y+s64SM7Yq466W8IOu3sOyXkCDsl7DqsrDtlZzri6QuICovXHJcbiAgICBjb25uZWN0KGNhbnZhcywgbGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmRpc2Nvbm5lY3QoY2FudmFzKTtcclxuICAgICAgICB0aGlzLm1vdXNlbW92ZSA9IGV2ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZW1vdmUoZXYub2Zmc2V0WCwgZXYub2Zmc2V0WSwgbGlzdGVuZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5tb3VzZXVwID0gZXYgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNldXAoZXYub2Zmc2V0WCwgZXYub2Zmc2V0WSwgZXYudGltZVN0YW1wLCBsaXN0ZW5lcik7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLm1vdXNldXApO1xyXG4gICAgICAgICAgICAvLyBsaXN0ZW5lci5yQUZTeW5jTW91c2V1cE1lc3NhZ2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBsaXN0ZW5lci5wdXRNb3VzZXVwTWVzc2FnZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5tb3VzZWRvd24gPSBldiA9PiB7XHJcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5hY2NlcHRDb29yZGluYXRlKGV2Lm9mZnNldFgsIGV2Lm9mZnNldFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlZG93bihldi5vZmZzZXRYLCBldi5vZmZzZXRZLCBldi50aW1lU3RhbXAsIGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZXVwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZWRvd24pO1xyXG4gICAgfVxyXG4gICAgLyoqIOyeheugpSDsu7Ttj6zrhIztirgg7Jew6rKw7J2EIO2VtOygnO2VnOuLpC4gKi9cclxuICAgIGRpc2Nvbm5lY3QoY2FudmFzKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2Vkb3duKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlZG93bik7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2Vkb3duID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2Vtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlbW92ZSk7XHJcbiAgICAgICAgICAgIHRoaXMubW91c2Vtb3ZlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMubW91c2V1cCkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZXVwKTtcclxuICAgICAgICAgICAgdGhpcy5tb3VzZXVwID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGVNb3VzZWRvd24oeCwgeSwgdCwgbGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IHg7XHJcbiAgICAgICAgdGhpcy5zdGFydFkgPSB5O1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gdDtcclxuICAgICAgICB0aGlzLmVuZFggPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZW5kWSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9iZWZvcmVYID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9iZWZvcmVZID0gbnVsbDtcclxuICAgICAgICB0aGlzLmlucHV0WCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnB1dFkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX21vdmVYID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9tb3ZlWSA9IG51bGw7XHJcbiAgICAgICAgbGlzdGVuZXIucHV0TW91c2Vkb3duTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlTW91c2Vtb3ZlKHgsIHksIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dFggPSB4O1xyXG4gICAgICAgIHRoaXMuaW5wdXRZID0geTtcclxuICAgIH1cclxuICAgIGhhbmRsZU1vdXNldXAoeCwgeSwgdCwgbGlzdGVuZXIpIHtcclxuICAgICAgICB0aGlzLmVuZFggPSB4O1xyXG4gICAgICAgIHRoaXMuZW5kWSA9IHk7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdDtcclxuICAgICAgICBsaXN0ZW5lci5wdXRNb3VzZXVwTWVzc2FnZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqIHJBRiAqL1xyXG4gICAgY2xvY2soKSB7XHJcbiAgICAgICAgdGhpcy5fbW92ZVggPSAwO1xyXG4gICAgICAgIHRoaXMuX21vdmVZID0gMDtcclxuICAgICAgICBpZiAodGhpcy5fYmVmb3JlWCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVYID0gdGhpcy5pbnB1dFggLSB0aGlzLl9iZWZvcmVYO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fYmVmb3JlWSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVZID0gdGhpcy5pbnB1dFkgLSB0aGlzLl9iZWZvcmVZO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5pbnB1dFggIT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5fYmVmb3JlWCA9IHRoaXMuaW5wdXRYO1xyXG4gICAgICAgIGlmICh0aGlzLmlucHV0WSAhPSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLl9iZWZvcmVZID0gdGhpcy5pbnB1dFk7XHJcbiAgICAgICAgdGhpcy54ID0gdGhpcy5pbnB1dFg7XHJcbiAgICAgICAgdGhpcy55ID0gdGhpcy5pbnB1dFk7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Input.ts\n");

/***/ }),

/***/ "./src/Piece.ts":
/*!**********************!*\
  !*** ./src/Piece.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Piece; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.ts\");\n\r\nconst AXIS = {\r\n    h: {\r\n        axis: 'x',\r\n        start: 'left',\r\n        end: 'right'\r\n    },\r\n    v: {\r\n        axis: 'y',\r\n        start: 'top',\r\n        end: 'bottom'\r\n    }\r\n};\r\nclass Piece {\r\n    constructor(tag, texture, srcX, srcY, srcD, viewD) {\r\n        /** 퍼즐 조각이 혼자서 움직일 때 (마우스를 놓을 때) 퍼즐 조각이 이동하는 경로 */\r\n        this.destX = null;\r\n        this.destY = null;\r\n        /** 퍼즐 조각의 이동 속도 (업데이트에 이용된다. 아님 말고.) */\r\n        this.velX = 0;\r\n        this.velY = 0;\r\n        this.tag = tag;\r\n        this.texture = texture;\r\n        this.sx = srcX;\r\n        this.sy = srcY;\r\n        this.srcSize = srcD;\r\n        this.size = viewD;\r\n    }\r\n    /** 퍼즐 조각의 목표 위치/현재 위치를 기반으로 퍼즐의 행렬 위치를 찾아낸다. */\r\n    whereami(left, top, boardSize, divideBy) {\r\n        let x = (this.destX != null ? this.destX : this.x) + this.size / 2;\r\n        let y = (this.destY != null ? this.destY : this.y) + this.size / 2;\r\n        return Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getRowCol\"])(x, y, boardSize, left, top, divideBy);\r\n    }\r\n    /** 퍼즐 조각을 한 방향으로 움직인다. (대각선 이동은 구현에 좀 더 정교한 기하학을 필요로 한다.) 다른 퍼즐 조각과 부딪히는 경우 그것도 함께 밀어낸다. 이것은 **한 업데이트 사이클에서 모두 일어난다!** */\r\n    push(dist, direction, game, concern) {\r\n        const { axis, start, end } = AXIS[direction];\r\n        let backpress = null;\r\n        let est = this[axis] + dist;\r\n        if (est < game[start]) {\r\n            backpress = est - game[start];\r\n            est = game[start];\r\n        }\r\n        else if (est + this.size > game[end]) {\r\n            backpress = est + this.size - game[end];\r\n            est = game[end] - this.size;\r\n        }\r\n        this[axis] = est;\r\n        if (backpress)\r\n            return backpress;\r\n        for (const piece of concern) {\r\n            if (Piece.hitTest(this, piece, game.blankTag)) {\r\n                let dist_ = (this.size * Math.sign(dist) + this[axis] - piece[axis]);\r\n                backpress = piece.push(dist_, direction, game, concern);\r\n                if (backpress != null) {\r\n                    this[axis] -= backpress;\r\n                    return backpress;\r\n                }\r\n            }\r\n        }\r\n        return backpress;\r\n    }\r\n    /**\r\n     * 퍼즐 조각을 한 방향으로 움직이기만 한다.\r\n     * 위에 것과는 다르게 재귀를 사용하지 않는다.\r\n     */\r\n    move(dist, direction, game, concern) {\r\n        const { axis, start, end } = AXIS[direction];\r\n    }\r\n    /**\r\n     * 업데이트한다.\r\n     * 빈칸을 나타내는 조각은 업데이트되지 않는다.\r\n     *\r\n     * 일단, 업데이트 자체는 드래그 여부와 상관없이 모든 조각에 대해 항상 실행된다.\r\n    */\r\n    update(game) {\r\n        // (참고 : 마우스 버튼을 누르는 순간 모든 조각의 destX, destY가 null이 되고 velX, velY 또한 0이 되므로 조각을 드래그하는 중에는 이 블록과 저 아래에 destY 블록까지 무시된다.)\r\n        // 아직 목표 x위치에 도달하지 않았다면\r\n        if (this.destX != null) {\r\n            let distX = this.destX - this.x;\r\n            // 목표 위치에 도달할 수 있도록 속도를 설정해준다.\r\n            this.velX = this.size / 6 * Math.sign(distX);\r\n            // 조각이 목표에 충분히 가까이 접근했다면 목표 위치에 안착시키고, 속도를 없앤다.\r\n            if ((Math.abs(distX) < Math.abs(this.velX)) || (Math.abs(distX) < 0.1)) {\r\n                this.x = this.destX;\r\n                this.destX = null;\r\n                if (Math.abs(this.velX) >= 3) {\r\n                    // tick!\r\n                }\r\n                this.velX = 0;\r\n            }\r\n        }\r\n        if (this.destY != null) {\r\n            let distY = this.destY - this.y;\r\n            this.velY = this.size / 6 * Math.sign(distY);\r\n            if ((Math.abs(distY) < Math.abs(this.velY)) || (Math.abs(distY) < 0.1)) {\r\n                this.y = this.destY;\r\n                this.destY = null;\r\n                if (Math.abs(this.velY) >= 3) {\r\n                    // tick!\r\n                }\r\n                this.velY = 0;\r\n            }\r\n        }\r\n        this.x += this.velX;\r\n        this.y += this.velY;\r\n        if (this.x < game.left) {\r\n            this.x = game.left;\r\n            this.velX = 0;\r\n        }\r\n        else if (this.x + this.size > game.right) {\r\n            this.x = game.right - this.size;\r\n            this.velX = 0;\r\n        }\r\n        if (this.y < game.top) {\r\n            this.y = game.top;\r\n            this.velY = 0;\r\n        }\r\n        else if (this.y + this.size > game.bottom) {\r\n            this.y = game.bottom - this.size;\r\n            this.velY = 0;\r\n        }\r\n    }\r\n    /**\r\n     * 렌더링한다.\r\n     * 빈칸을 나타내는 조각에 대해서는 메서드가 아예 실행되지 않는다.\r\n     */\r\n    render(context, showLabel = true) {\r\n        context.fillStyle = 'white';\r\n        context.lineWidth = 1;\r\n        context.strokeRect(this.x, this.y, this.size, this.size);\r\n        context.fillRect(this.x, this.y, this.size, this.size);\r\n        context.drawImage(this.texture, this.sx, this.sy, this.srcSize, this.srcSize, this.x, this.y, this.size, this.size);\r\n        if (showLabel) {\r\n            let fontSize = Math.floor(this.size / 3);\r\n            context.font = fontSize + 'px \"Exo 2\"';\r\n            context.lineWidth = 3;\r\n            let { width } = context.measureText(this.label);\r\n            let x = this.x + width / 2 + 4;\r\n            let y = this.y + this.size / 6 + 2;\r\n            context.strokeText(this.label, x, y);\r\n            context.fillText(this.label, x, y);\r\n        }\r\n    }\r\n    getIntoPositionNow() {\r\n        if ((this.destX != null)\r\n        // && (this.destX != this.x)\r\n        ) {\r\n            this.x = this.destX;\r\n            this.destX = null;\r\n            this.velX = 0;\r\n        }\r\n        if ((this.destY != null)\r\n        // && (this.destY != this.destY)\r\n        ) {\r\n            this.y = this.destY;\r\n            this.destY = null;\r\n            this.velY = 0;\r\n        }\r\n    }\r\n    static hitTest(a, b, blankTag) {\r\n        if (a == b || a.tag == blankTag || b.tag == blankTag)\r\n            return false;\r\n        let leftA = a.x;\r\n        let rightA = a.x + a.size;\r\n        let topA = a.y;\r\n        let bottomA = a.y + a.size;\r\n        let leftB = b.x;\r\n        let rightB = b.x + b.size;\r\n        let topB = b.y;\r\n        let bottomB = b.y + b.size;\r\n        return leftA < rightB && leftB < rightA && topA < bottomB && topB < bottomA;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUGllY2UudHM/NTE3OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsd0RBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFFBQVE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL1BpZWNlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Um93Q29sIH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuY29uc3QgQVhJUyA9IHtcclxuICAgIGg6IHtcclxuICAgICAgICBheGlzOiAneCcsXHJcbiAgICAgICAgc3RhcnQ6ICdsZWZ0JyxcclxuICAgICAgICBlbmQ6ICdyaWdodCdcclxuICAgIH0sXHJcbiAgICB2OiB7XHJcbiAgICAgICAgYXhpczogJ3knLFxyXG4gICAgICAgIHN0YXJ0OiAndG9wJyxcclxuICAgICAgICBlbmQ6ICdib3R0b20nXHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpZWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHRhZywgdGV4dHVyZSwgc3JjWCwgc3JjWSwgc3JjRCwgdmlld0QpIHtcclxuICAgICAgICAvKiog7Y287KaQIOyhsOqwgeydtCDtmLzsnpDshJwg7JuA7KeB7J28IOuVjCAo66eI7Jqw7Iqk66W8IOuGk+ydhCDrlYwpIO2NvOymkCDsobDqsIHsnbQg7J2064+Z7ZWY64qUIOqyveuhnCAqL1xyXG4gICAgICAgIHRoaXMuZGVzdFggPSBudWxsO1xyXG4gICAgICAgIHRoaXMuZGVzdFkgPSBudWxsO1xyXG4gICAgICAgIC8qKiDtjbzsppAg7KGw6rCB7J2YIOydtOuPmSDsho3rj4QgKOyXheuNsOydtO2KuOyXkCDsnbTsmqnrkJzri6QuIOyVhOuLmCDrp5Dqs6AuKSAqL1xyXG4gICAgICAgIHRoaXMudmVsWCA9IDA7XHJcbiAgICAgICAgdGhpcy52ZWxZID0gMDtcclxuICAgICAgICB0aGlzLnRhZyA9IHRhZztcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xyXG4gICAgICAgIHRoaXMuc3ggPSBzcmNYO1xyXG4gICAgICAgIHRoaXMuc3kgPSBzcmNZO1xyXG4gICAgICAgIHRoaXMuc3JjU2l6ZSA9IHNyY0Q7XHJcbiAgICAgICAgdGhpcy5zaXplID0gdmlld0Q7XHJcbiAgICB9XHJcbiAgICAvKiog7Y287KaQIOyhsOqwgeydmCDrqqntkZwg7JyE7LmYL+2YhOyerCDsnITsuZjrpbwg6riw67CY7Jy866GcIO2NvOymkOydmCDtlonroKwg7JyE7LmY66W8IOywvuyVhOuCuOuLpC4gKi9cclxuICAgIHdoZXJlYW1pKGxlZnQsIHRvcCwgYm9hcmRTaXplLCBkaXZpZGVCeSkge1xyXG4gICAgICAgIGxldCB4ID0gKHRoaXMuZGVzdFggIT0gbnVsbCA/IHRoaXMuZGVzdFggOiB0aGlzLngpICsgdGhpcy5zaXplIC8gMjtcclxuICAgICAgICBsZXQgeSA9ICh0aGlzLmRlc3RZICE9IG51bGwgPyB0aGlzLmRlc3RZIDogdGhpcy55KSArIHRoaXMuc2l6ZSAvIDI7XHJcbiAgICAgICAgcmV0dXJuIGdldFJvd0NvbCh4LCB5LCBib2FyZFNpemUsIGxlZnQsIHRvcCwgZGl2aWRlQnkpO1xyXG4gICAgfVxyXG4gICAgLyoqIO2NvOymkCDsobDqsIHsnYQg7ZWcIOuwqe2WpeycvOuhnCDsm4Dsp4Hsnbjri6QuICjrjIDqsIHshKAg7J2064+Z7J2AIOq1rO2YhOyXkCDsooAg642UIOygleq1kO2VnCDquLDtlZjtlZnsnYQg7ZWE7JqU66GcIO2VnOuLpC4pIOuLpOuluCDtjbzsppAg7KGw6rCB6rO8IOu2gOuUqu2eiOuKlCDqsr3smrAg6re46rKD64+EIO2VqOq7mCDrsIDslrTrgrjri6QuIOydtOqyg+ydgCAqKu2VnCDsl4XrjbDsnbTtirgg7IKs7J207YG07JeQ7IScIOuqqOuRkCDsnbzslrTrgpzri6QhKiogKi9cclxuICAgIHB1c2goZGlzdCwgZGlyZWN0aW9uLCBnYW1lLCBjb25jZXJuKSB7XHJcbiAgICAgICAgY29uc3QgeyBheGlzLCBzdGFydCwgZW5kIH0gPSBBWElTW2RpcmVjdGlvbl07XHJcbiAgICAgICAgbGV0IGJhY2twcmVzcyA9IG51bGw7XHJcbiAgICAgICAgbGV0IGVzdCA9IHRoaXNbYXhpc10gKyBkaXN0O1xyXG4gICAgICAgIGlmIChlc3QgPCBnYW1lW3N0YXJ0XSkge1xyXG4gICAgICAgICAgICBiYWNrcHJlc3MgPSBlc3QgLSBnYW1lW3N0YXJ0XTtcclxuICAgICAgICAgICAgZXN0ID0gZ2FtZVtzdGFydF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGVzdCArIHRoaXMuc2l6ZSA+IGdhbWVbZW5kXSkge1xyXG4gICAgICAgICAgICBiYWNrcHJlc3MgPSBlc3QgKyB0aGlzLnNpemUgLSBnYW1lW2VuZF07XHJcbiAgICAgICAgICAgIGVzdCA9IGdhbWVbZW5kXSAtIHRoaXMuc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpc1theGlzXSA9IGVzdDtcclxuICAgICAgICBpZiAoYmFja3ByZXNzKVxyXG4gICAgICAgICAgICByZXR1cm4gYmFja3ByZXNzO1xyXG4gICAgICAgIGZvciAoY29uc3QgcGllY2Ugb2YgY29uY2Vybikge1xyXG4gICAgICAgICAgICBpZiAoUGllY2UuaGl0VGVzdCh0aGlzLCBwaWVjZSwgZ2FtZS5ibGFua1RhZykpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkaXN0XyA9ICh0aGlzLnNpemUgKiBNYXRoLnNpZ24oZGlzdCkgKyB0aGlzW2F4aXNdIC0gcGllY2VbYXhpc10pO1xyXG4gICAgICAgICAgICAgICAgYmFja3ByZXNzID0gcGllY2UucHVzaChkaXN0XywgZGlyZWN0aW9uLCBnYW1lLCBjb25jZXJuKTtcclxuICAgICAgICAgICAgICAgIGlmIChiYWNrcHJlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbYXhpc10gLT0gYmFja3ByZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiYWNrcHJlc3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJhY2twcmVzcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog7Y287KaQIOyhsOqwgeydhCDtlZwg67Cp7Zal7Jy866GcIOybgOyngeydtOq4sOunjCDtlZzri6QuXHJcbiAgICAgKiDsnITsl5Ag6rKD6rO864qUIOuLpOultOqyjCDsnqzqt4Drpbwg7IKs7Jqp7ZWY7KeAIOyViuuKlOuLpC5cclxuICAgICAqL1xyXG4gICAgbW92ZShkaXN0LCBkaXJlY3Rpb24sIGdhbWUsIGNvbmNlcm4pIHtcclxuICAgICAgICBjb25zdCB7IGF4aXMsIHN0YXJ0LCBlbmQgfSA9IEFYSVNbZGlyZWN0aW9uXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog7JeF642w7J207Yq47ZWc64ukLlxyXG4gICAgICog67mI7Lm47J2EIOuCmO2DgOuCtOuKlCDsobDqsIHsnYAg7JeF642w7J207Yq465CY7KeAIOyViuuKlOuLpC5cclxuICAgICAqXHJcbiAgICAgKiDsnbzri6gsIOyXheuNsOydtO2KuCDsnpDssrTripQg65Oc656Y6re4IOyXrOu2gOyZgCDsg4HqtIDsl4bsnbQg66qo65OgIOyhsOqwgeyXkCDrjIDtlbQg7ZWt7IOBIOyLpO2WieuQnOuLpC5cclxuICAgICovXHJcbiAgICB1cGRhdGUoZ2FtZSkge1xyXG4gICAgICAgIC8vICjssLjqs6AgOiDrp4jsmrDsiqQg67KE7Yq87J2EIOuIhOultOuKlCDsiJzqsIQg66qo65OgIOyhsOqwgeydmCBkZXN0WCwgZGVzdFnqsIAgbnVsbOydtCDrkJjqs6AgdmVsWCwgdmVsWSDrmJDtlZwgMOydtCDrkJjrr4DroZwg7KGw6rCB7J2EIOuTnOuemOq3uO2VmOuKlCDspJHsl5DripQg7J20IOu4lOuhneqzvCDsoIAg7JWE656Y7JeQIGRlc3RZIOu4lOuhneq5jOyngCDrrLTsi5zrkJzri6QuKVxyXG4gICAgICAgIC8vIOyVhOyngSDrqqntkZwgeOychOy5mOyXkCDrj4Tri6ztlZjsp4Ag7JWK7JWY64uk66m0XHJcbiAgICAgICAgaWYgKHRoaXMuZGVzdFggIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZGlzdFggPSB0aGlzLmRlc3RYIC0gdGhpcy54O1xyXG4gICAgICAgICAgICAvLyDrqqntkZwg7JyE7LmY7JeQIOuPhOuLrO2VoCDsiJgg7J6I64+E66GdIOyGjeuPhOulvCDshKTsoJXtlbTspIDri6QuXHJcbiAgICAgICAgICAgIHRoaXMudmVsWCA9IHRoaXMuc2l6ZSAvIDYgKiBNYXRoLnNpZ24oZGlzdFgpO1xyXG4gICAgICAgICAgICAvLyDsobDqsIHsnbQg66qp7ZGc7JeQIOy2qeu2hO2eiCDqsIDquYzsnbQg7KCR6re87ZaI64uk66m0IOuqqe2RnCDsnITsuZjsl5Ag7JWI7LCp7Iuc7YKk6rOgLCDsho3rj4Trpbwg7JeG7JWk64ukLlxyXG4gICAgICAgICAgICBpZiAoKE1hdGguYWJzKGRpc3RYKSA8IE1hdGguYWJzKHRoaXMudmVsWCkpIHx8IChNYXRoLmFicyhkaXN0WCkgPCAwLjEpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLmRlc3RYO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0WCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxYKSA+PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGljayFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmVsWCA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZGVzdFkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsZXQgZGlzdFkgPSB0aGlzLmRlc3RZIC0gdGhpcy55O1xyXG4gICAgICAgICAgICB0aGlzLnZlbFkgPSB0aGlzLnNpemUgLyA2ICogTWF0aC5zaWduKGRpc3RZKTtcclxuICAgICAgICAgICAgaWYgKChNYXRoLmFicyhkaXN0WSkgPCBNYXRoLmFicyh0aGlzLnZlbFkpKSB8fCAoTWF0aC5hYnMoZGlzdFkpIDwgMC4xKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy5kZXN0WTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdFkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsWSkgPj0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRpY2shXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlbFkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMueCArPSB0aGlzLnZlbFg7XHJcbiAgICAgICAgdGhpcy55ICs9IHRoaXMudmVsWTtcclxuICAgICAgICBpZiAodGhpcy54IDwgZ2FtZS5sZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IGdhbWUubGVmdDtcclxuICAgICAgICAgICAgdGhpcy52ZWxYID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy54ICsgdGhpcy5zaXplID4gZ2FtZS5yaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnggPSBnYW1lLnJpZ2h0IC0gdGhpcy5zaXplO1xyXG4gICAgICAgICAgICB0aGlzLnZlbFggPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy55IDwgZ2FtZS50b3ApIHtcclxuICAgICAgICAgICAgdGhpcy55ID0gZ2FtZS50b3A7XHJcbiAgICAgICAgICAgIHRoaXMudmVsWSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMueSArIHRoaXMuc2l6ZSA+IGdhbWUuYm90dG9tKSB7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IGdhbWUuYm90dG9tIC0gdGhpcy5zaXplO1xyXG4gICAgICAgICAgICB0aGlzLnZlbFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog66CM642U66eB7ZWc64ukLlxyXG4gICAgICog67mI7Lm47J2EIOuCmO2DgOuCtOuKlCDsobDqsIHsl5Ag64yA7ZW07ISc64qUIOuplOyEnOuTnOqwgCDslYTsmIgg7Iuk7ZaJ65CY7KeAIOyViuuKlOuLpC5cclxuICAgICAqL1xyXG4gICAgcmVuZGVyKGNvbnRleHQsIHNob3dMYWJlbCA9IHRydWUpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICd3aGl0ZSc7XHJcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFJlY3QodGhpcy54LCB0aGlzLnksIHRoaXMuc2l6ZSwgdGhpcy5zaXplKTtcclxuICAgICAgICBjb250ZXh0LmRyYXdJbWFnZSh0aGlzLnRleHR1cmUsIHRoaXMuc3gsIHRoaXMuc3ksIHRoaXMuc3JjU2l6ZSwgdGhpcy5zcmNTaXplLCB0aGlzLngsIHRoaXMueSwgdGhpcy5zaXplLCB0aGlzLnNpemUpO1xyXG4gICAgICAgIGlmIChzaG93TGFiZWwpIHtcclxuICAgICAgICAgICAgbGV0IGZvbnRTaXplID0gTWF0aC5mbG9vcih0aGlzLnNpemUgLyAzKTtcclxuICAgICAgICAgICAgY29udGV4dC5mb250ID0gZm9udFNpemUgKyAncHggXCJFeG8gMlwiJztcclxuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAzO1xyXG4gICAgICAgICAgICBsZXQgeyB3aWR0aCB9ID0gY29udGV4dC5tZWFzdXJlVGV4dCh0aGlzLmxhYmVsKTtcclxuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKyB3aWR0aCAvIDIgKyA0O1xyXG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueSArIHRoaXMuc2l6ZSAvIDYgKyAyO1xyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVRleHQodGhpcy5sYWJlbCwgeCwgeSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQodGhpcy5sYWJlbCwgeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SW50b1Bvc2l0aW9uTm93KCkge1xyXG4gICAgICAgIGlmICgodGhpcy5kZXN0WCAhPSBudWxsKVxyXG4gICAgICAgIC8vICYmICh0aGlzLmRlc3RYICE9IHRoaXMueClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5kZXN0WDtcclxuICAgICAgICAgICAgdGhpcy5kZXN0WCA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMudmVsWCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgodGhpcy5kZXN0WSAhPSBudWxsKVxyXG4gICAgICAgIC8vICYmICh0aGlzLmRlc3RZICE9IHRoaXMuZGVzdFkpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuZGVzdFk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdFkgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLnZlbFkgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBoaXRUZXN0KGEsIGIsIGJsYW5rVGFnKSB7XHJcbiAgICAgICAgaWYgKGEgPT0gYiB8fCBhLnRhZyA9PSBibGFua1RhZyB8fCBiLnRhZyA9PSBibGFua1RhZylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGxldCBsZWZ0QSA9IGEueDtcclxuICAgICAgICBsZXQgcmlnaHRBID0gYS54ICsgYS5zaXplO1xyXG4gICAgICAgIGxldCB0b3BBID0gYS55O1xyXG4gICAgICAgIGxldCBib3R0b21BID0gYS55ICsgYS5zaXplO1xyXG4gICAgICAgIGxldCBsZWZ0QiA9IGIueDtcclxuICAgICAgICBsZXQgcmlnaHRCID0gYi54ICsgYi5zaXplO1xyXG4gICAgICAgIGxldCB0b3BCID0gYi55O1xyXG4gICAgICAgIGxldCBib3R0b21CID0gYi55ICsgYi5zaXplO1xyXG4gICAgICAgIHJldHVybiBsZWZ0QSA8IHJpZ2h0QiAmJiBsZWZ0QiA8IHJpZ2h0QSAmJiB0b3BBIDwgYm90dG9tQiAmJiB0b3BCIDwgYm90dG9tQTtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Piece.ts\n");

/***/ }),

/***/ "./src/PuzzleSet.ts":
/*!**************************!*\
  !*** ./src/PuzzleSet.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PuzzleSet; });\n/**\r\n * PuzzleSet은 그림, 정사각형 영역, 해결 가능 여부를 모아놓은 것이다.\r\n *\r\n * 행이나 열을 뒤집는 기능 따위는 없다.\r\n */\r\nclass PuzzleSet {\r\n    constructor(imagepath, srcX, srcY, dimension, solvable, story) {\r\n        this.texture = new Image();\r\n        this.texture.src = '/img/' + imagepath;\r\n        this.srcX = srcX;\r\n        this.srcY = srcY;\r\n        this.srcLength = dimension;\r\n        this.solvable = solvable;\r\n        this.story = story;\r\n    }\r\n    /**\r\n     * 행, 열 번호로 이미지에서 참조할 좌표를 찾는다.\r\n     */\r\n    getPosition(row, col, divideBy) {\r\n        let d = this.srcLength / divideBy;\r\n        return [this.srcX + col * d, this.srcY + row * d];\r\n    }\r\n    waitForImageLoad() {\r\n        if (this.texture.complete) {\r\n            return Promise.resolve();\r\n        }\r\n        return new Promise((a, b) => {\r\n            this.texture.onload = ev => {\r\n                a();\r\n            };\r\n            this.texture.onerror = b;\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvUHV6emxlU2V0LnRzP2VmMjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJmaWxlIjoiLi9zcmMvUHV6emxlU2V0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFB1enpsZVNldOydgCDqt7jrprwsIOygleyCrOqwge2YlSDsmIHsl60sIO2VtOqysCDqsIDriqUg7Jes67aA66W8IOuqqOyVhOuGk+ydgCDqsoPsnbTri6QuXHJcbiAqXHJcbiAqIO2WieydtOuCmCDsl7TsnYQg65Kk7KeR64qUIOq4sOuKpSDrlLDsnITripQg7JeG64ukLlxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHV6emxlU2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKGltYWdlcGF0aCwgc3JjWCwgc3JjWSwgZGltZW5zaW9uLCBzb2x2YWJsZSwgc3RvcnkpIHtcclxuICAgICAgICB0aGlzLnRleHR1cmUgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnRleHR1cmUuc3JjID0gJy9pbWcvJyArIGltYWdlcGF0aDtcclxuICAgICAgICB0aGlzLnNyY1ggPSBzcmNYO1xyXG4gICAgICAgIHRoaXMuc3JjWSA9IHNyY1k7XHJcbiAgICAgICAgdGhpcy5zcmNMZW5ndGggPSBkaW1lbnNpb247XHJcbiAgICAgICAgdGhpcy5zb2x2YWJsZSA9IHNvbHZhYmxlO1xyXG4gICAgICAgIHRoaXMuc3RvcnkgPSBzdG9yeTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog7ZaJLCDsl7Qg67KI7Zi466GcIOydtOuvuOyngOyXkOyEnCDssLjsobDtlaAg7KKM7ZGc66W8IOywvuuKlOuLpC5cclxuICAgICAqL1xyXG4gICAgZ2V0UG9zaXRpb24ocm93LCBjb2wsIGRpdmlkZUJ5KSB7XHJcbiAgICAgICAgbGV0IGQgPSB0aGlzLnNyY0xlbmd0aCAvIGRpdmlkZUJ5O1xyXG4gICAgICAgIHJldHVybiBbdGhpcy5zcmNYICsgY29sICogZCwgdGhpcy5zcmNZICsgcm93ICogZF07XHJcbiAgICB9XHJcbiAgICB3YWl0Rm9ySW1hZ2VMb2FkKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnRleHR1cmUuY29tcGxldGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLm9ubG9hZCA9IGV2ID0+IHtcclxuICAgICAgICAgICAgICAgIGEoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdGhpcy50ZXh0dXJlLm9uZXJyb3IgPSBiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/PuzzleSet.ts\n");

/***/ }),

/***/ "./src/Timer.ts":
/*!**********************!*\
  !*** ./src/Timer.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Timer; });\n/** 마이크로초를 mm : ss . ss 로 나눈다. */\r\nfunction formatMs(ms) {\r\n    let val = Math.round(ms / 10);\r\n    let min = Math.floor(val / 6000);\r\n    let centisec = val % 6000;\r\n    let centisec_str = centisec.toString();\r\n    let centisec_len = centisec_str.length;\r\n    if (centisec_len < 4) {\r\n        let a = Array(4 - centisec_len);\r\n        a.fill('0');\r\n        centisec_str = a.join('') + centisec_str;\r\n    }\r\n    let min_str = min.toString();\r\n    let min_len = min_str.length;\r\n    if (min_len < 2) {\r\n        let a = Array(2 - min_len);\r\n        a.fill('0');\r\n        min_str = a.join('') + min_str;\r\n    }\r\n    return [min_str, centisec_str.substr(0, 2), centisec_str.substr(2, 2)];\r\n}\r\n/**\r\n * 타이머 컴포넌트\r\n * DOMHighResTimestamp 때문에 로직이 은근 복잡하다.\r\n * */\r\nclass Timer {\r\n    constructor() {\r\n        /** 시작 버튼을 누른 시각 */\r\n        this.startTime = null;\r\n        /** 퍼즐이 중단된 시각 */\r\n        this.endTime = null;\r\n        /** rAF에 의해 입력되는 시각 */\r\n        this.currentTime = 0;\r\n    }\r\n    start(startTime) {\r\n        this.startTime = startTime;\r\n        this.endTime = null;\r\n    }\r\n    end(endTime) {\r\n        this.endTime = endTime;\r\n    }\r\n    reset() {\r\n        this.startTime = null;\r\n        this.endTime = null;\r\n        this.currentTime = null;\r\n    }\r\n    update(t) {\r\n        this.currentTime = t;\r\n    }\r\n    render(context, left, len, y) {\r\n        context.font = '42px \"Exo 2\"';\r\n        let [min, sec, cs] = formatMs(this.currentTime - this.startTime);\r\n        let d = len / 3;\r\n        let p = len / 8;\r\n        let q = d * 7 / 8;\r\n        context.fillText(min, left + p, y);\r\n        context.fillText(':', left + q, y);\r\n        context.fillText(sec, left + d + p, y);\r\n        context.fillText('\\'', left + d + q, y);\r\n        context.fillText(cs, left + d * 2 + p, y);\r\n        context.fillText('\"', left + d * 2 + q, y);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvVGltZXIudHM/OGJjNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL1RpbWVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIOuniOydtO2BrOuhnOy0iOulvCBtbSA6IHNzIC4gc3Mg66GcIOuCmOuIiOuLpC4gKi9cclxuZnVuY3Rpb24gZm9ybWF0TXMobXMpIHtcclxuICAgIGxldCB2YWwgPSBNYXRoLnJvdW5kKG1zIC8gMTApO1xyXG4gICAgbGV0IG1pbiA9IE1hdGguZmxvb3IodmFsIC8gNjAwMCk7XHJcbiAgICBsZXQgY2VudGlzZWMgPSB2YWwgJSA2MDAwO1xyXG4gICAgbGV0IGNlbnRpc2VjX3N0ciA9IGNlbnRpc2VjLnRvU3RyaW5nKCk7XHJcbiAgICBsZXQgY2VudGlzZWNfbGVuID0gY2VudGlzZWNfc3RyLmxlbmd0aDtcclxuICAgIGlmIChjZW50aXNlY19sZW4gPCA0KSB7XHJcbiAgICAgICAgbGV0IGEgPSBBcnJheSg0IC0gY2VudGlzZWNfbGVuKTtcclxuICAgICAgICBhLmZpbGwoJzAnKTtcclxuICAgICAgICBjZW50aXNlY19zdHIgPSBhLmpvaW4oJycpICsgY2VudGlzZWNfc3RyO1xyXG4gICAgfVxyXG4gICAgbGV0IG1pbl9zdHIgPSBtaW4udG9TdHJpbmcoKTtcclxuICAgIGxldCBtaW5fbGVuID0gbWluX3N0ci5sZW5ndGg7XHJcbiAgICBpZiAobWluX2xlbiA8IDIpIHtcclxuICAgICAgICBsZXQgYSA9IEFycmF5KDIgLSBtaW5fbGVuKTtcclxuICAgICAgICBhLmZpbGwoJzAnKTtcclxuICAgICAgICBtaW5fc3RyID0gYS5qb2luKCcnKSArIG1pbl9zdHI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW21pbl9zdHIsIGNlbnRpc2VjX3N0ci5zdWJzdHIoMCwgMiksIGNlbnRpc2VjX3N0ci5zdWJzdHIoMiwgMildO1xyXG59XHJcbi8qKlxyXG4gKiDtg4DsnbTrqLgg7Lu07Y+s64SM7Yq4XHJcbiAqIERPTUhpZ2hSZXNUaW1lc3RhbXAg65WM66y47JeQIOuhnOyngeydtCDsnYDqt7wg67O17J6h7ZWY64ukLlxyXG4gKiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaW1lciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICAvKiog7Iuc7J6RIOuyhO2KvOydhCDriITrpbgg7Iuc6rCBICovXHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xyXG4gICAgICAgIC8qKiDtjbzsppDsnbQg7KSR64uo65CcIOyLnOqwgSAqL1xyXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG51bGw7XHJcbiAgICAgICAgLyoqIHJBRuyXkCDsnZjtlbQg7J6F66Cl65CY64qUIOyLnOqwgSAqL1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG4gICAgfVxyXG4gICAgc3RhcnQoc3RhcnRUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWU7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVuZChlbmRUaW1lKSB7XHJcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gZW5kVGltZTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbnVsbDtcclxuICAgICAgICB0aGlzLmVuZFRpbWUgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKHQpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gdDtcclxuICAgIH1cclxuICAgIHJlbmRlcihjb250ZXh0LCBsZWZ0LCBsZW4sIHkpIHtcclxuICAgICAgICBjb250ZXh0LmZvbnQgPSAnNDJweCBcIkV4byAyXCInO1xyXG4gICAgICAgIGxldCBbbWluLCBzZWMsIGNzXSA9IGZvcm1hdE1zKHRoaXMuY3VycmVudFRpbWUgLSB0aGlzLnN0YXJ0VGltZSk7XHJcbiAgICAgICAgbGV0IGQgPSBsZW4gLyAzO1xyXG4gICAgICAgIGxldCBwID0gbGVuIC8gODtcclxuICAgICAgICBsZXQgcSA9IGQgKiA3IC8gODtcclxuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KG1pbiwgbGVmdCArIHAsIHkpO1xyXG4gICAgICAgIGNvbnRleHQuZmlsbFRleHQoJzonLCBsZWZ0ICsgcSwgeSk7XHJcbiAgICAgICAgY29udGV4dC5maWxsVGV4dChzZWMsIGxlZnQgKyBkICsgcCwgeSk7XHJcbiAgICAgICAgY29udGV4dC5maWxsVGV4dCgnXFwnJywgbGVmdCArIGQgKyBxLCB5KTtcclxuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNzLCBsZWZ0ICsgZCAqIDIgKyBwLCB5KTtcclxuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KCdcIicsIGxlZnQgKyBkICogMiArIHEsIHkpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Timer.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _PuzzleSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PuzzleSet */ \"./src/PuzzleSet.ts\");\n/* harmony import */ var _Clock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Clock */ \"./src/Clock.ts\");\n/* harmony import */ var _Game__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Game */ \"./src/Game.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nlet puzzleSets;\r\nlet game;\r\nlet clock;\r\nconst canvas = document.getElementsByTagName('canvas')[0];\r\nconst context = canvas.getContext('2d');\r\ncontext.textAlign = 'center';\r\ncontext.textBaseline = 'middle';\r\nconst sizeInput = document.getElementById('size');\r\nconst puzzleSelector = document.getElementById('puzzle-selector');\r\nconst startButton = document.getElementById('start');\r\nconst blankPositionSelector = {\r\n    topLeft: document.getElementById('blank-pos-top-left'),\r\n    topRight: document.getElementById('blank-pos-top-right'),\r\n    bottomLeft: document.getElementById('blank-pos-bottom-left'),\r\n    bottomRight: document.getElementById('blank-pos-bottom-right'),\r\n};\r\nfunction decodeBlank() {\r\n    return [\r\n        blankPositionSelector.bottomLeft.checked || blankPositionSelector.bottomRight.checked,\r\n        blankPositionSelector.topRight.checked || blankPositionSelector.bottomRight.checked\r\n    ];\r\n}\r\nconst labelSelector = {\r\n    none: document.getElementById('show-label-none'),\r\n    phone: document.getElementById('show-label-phone'),\r\n    keypad: document.getElementById('show-label-keypad')\r\n};\r\nfunction loadPuzzleSets() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const puzzleSets = [];\r\n        const response = yield fetch('puzzleset.json');\r\n        const puzzleSetDataArray = yield response.json();\r\n        for (let i = 0; i < puzzleSetDataArray.length; i++) {\r\n            const { title, img, left, top, size, solvable, story } = puzzleSetDataArray[i];\r\n            const puzzleSet = new _PuzzleSet__WEBPACK_IMPORTED_MODULE_0__[\"default\"](img, left, top, size, solvable, story);\r\n            puzzleSets.push(puzzleSet);\r\n            const selectOption = document.createElement('option');\r\n            selectOption.value = i.toString();\r\n            selectOption.innerText = title;\r\n            puzzleSelector.appendChild(selectOption);\r\n        }\r\n        yield Promise.all(puzzleSets.map(v => v.waitForImageLoad()));\r\n        return puzzleSets;\r\n    });\r\n}\r\nfunction setSizeHandler() {\r\n    game.setSize(sizeInput.valueAsNumber, ...decodeBlank());\r\n}\r\nloadPuzzleSets().then((p) => {\r\n    puzzleSets = p;\r\n    startButton.addEventListener('click', (ev) => {\r\n        game.shuffle();\r\n        game.initPiecePosition();\r\n        game.start(ev.timeStamp);\r\n    });\r\n    blankPositionSelector.topLeft.addEventListener('input', setSizeHandler);\r\n    blankPositionSelector.topRight.addEventListener('input', setSizeHandler);\r\n    blankPositionSelector.bottomLeft.addEventListener('input', setSizeHandler);\r\n    blankPositionSelector.bottomRight.addEventListener('input', setSizeHandler);\r\n    sizeInput.addEventListener('change', setSizeHandler);\r\n    puzzleSelector.addEventListener('change', ev => {\r\n        game.setPuzzleSet(puzzleSets[puzzleSelector.value]);\r\n    });\r\n    labelSelector.none.addEventListener('input', ev => {\r\n        game.showLabel = false;\r\n    });\r\n    labelSelector.phone.addEventListener('input', ev => {\r\n        game.showLabel = true;\r\n        game.assignLabel(false);\r\n    });\r\n    labelSelector.keypad.addEventListener('input', ev => {\r\n        game.showLabel = true;\r\n        game.assignLabel(true);\r\n    });\r\n    let puzzleSet = puzzleSets[puzzleSelector.value];\r\n    let size = sizeInput.valueAsNumber;\r\n    game = new _Game__WEBPACK_IMPORTED_MODULE_2__[\"default\"](size, puzzleSet, 20, 20, 320, labelSelector.keypad.checked);\r\n    game.input.connect(canvas, game);\r\n    clock = new _Clock__WEBPACK_IMPORTED_MODULE_1__[\"default\"](t => {\r\n        game.update(t);\r\n        game.render(context);\r\n    });\r\n    clock.run();\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHM/NzFiZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFpQixTQUFJLElBQUksU0FBSTtBQUM3QiwyQkFBMkIsK0RBQStELGdCQUFnQixFQUFFLEVBQUU7QUFDOUc7QUFDQSxtQ0FBbUMsTUFBTSw2QkFBNkIsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNqRyxrQ0FBa0MsTUFBTSxpQ0FBaUMsRUFBRSxZQUFZLFdBQVcsRUFBRTtBQUNwRywrQkFBK0IscUZBQXFGO0FBQ3BIO0FBQ0EsS0FBSztBQUNMO0FBQ29DO0FBQ1I7QUFDRjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLCtCQUErQjtBQUN0RCxtQkFBbUIsK0NBQStDO0FBQ2xFLGtDQUFrQyxrREFBUztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZUFBZSw2Q0FBSTtBQUNuQjtBQUNBLGdCQUFnQiw4Q0FBSztBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL3NyYy9pbmRleC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuaW1wb3J0IFB1enpsZVNldCBmcm9tICcuL1B1enpsZVNldCc7XHJcbmltcG9ydCBDbG9jayBmcm9tICcuL0Nsb2NrJztcclxuaW1wb3J0IEdhbWUgZnJvbSAnLi9HYW1lJztcclxubGV0IHB1enpsZVNldHM7XHJcbmxldCBnYW1lO1xyXG5sZXQgY2xvY2s7XHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYW52YXMnKVswXTtcclxuY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5jb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG5jb250ZXh0LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xyXG5jb25zdCBzaXplSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2l6ZScpO1xyXG5jb25zdCBwdXp6bGVTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwdXp6bGUtc2VsZWN0b3InKTtcclxuY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQnKTtcclxuY29uc3QgYmxhbmtQb3NpdGlvblNlbGVjdG9yID0ge1xyXG4gICAgdG9wTGVmdDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JsYW5rLXBvcy10b3AtbGVmdCcpLFxyXG4gICAgdG9wUmlnaHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibGFuay1wb3MtdG9wLXJpZ2h0JyksXHJcbiAgICBib3R0b21MZWZ0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmxhbmstcG9zLWJvdHRvbS1sZWZ0JyksXHJcbiAgICBib3R0b21SaWdodDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JsYW5rLXBvcy1ib3R0b20tcmlnaHQnKSxcclxufTtcclxuZnVuY3Rpb24gZGVjb2RlQmxhbmsoKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIGJsYW5rUG9zaXRpb25TZWxlY3Rvci5ib3R0b21MZWZ0LmNoZWNrZWQgfHwgYmxhbmtQb3NpdGlvblNlbGVjdG9yLmJvdHRvbVJpZ2h0LmNoZWNrZWQsXHJcbiAgICAgICAgYmxhbmtQb3NpdGlvblNlbGVjdG9yLnRvcFJpZ2h0LmNoZWNrZWQgfHwgYmxhbmtQb3NpdGlvblNlbGVjdG9yLmJvdHRvbVJpZ2h0LmNoZWNrZWRcclxuICAgIF07XHJcbn1cclxuY29uc3QgbGFiZWxTZWxlY3RvciA9IHtcclxuICAgIG5vbmU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG93LWxhYmVsLW5vbmUnKSxcclxuICAgIHBob25lOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy1sYWJlbC1waG9uZScpLFxyXG4gICAga2V5cGFkOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy1sYWJlbC1rZXlwYWQnKVxyXG59O1xyXG5mdW5jdGlvbiBsb2FkUHV6emxlU2V0cygpIHtcclxuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICAgICAgY29uc3QgcHV6emxlU2V0cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goJ3B1enpsZXNldC5qc29uJyk7XHJcbiAgICAgICAgY29uc3QgcHV6emxlU2V0RGF0YUFycmF5ID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHV6emxlU2V0RGF0YUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdGl0bGUsIGltZywgbGVmdCwgdG9wLCBzaXplLCBzb2x2YWJsZSwgc3RvcnkgfSA9IHB1enpsZVNldERhdGFBcnJheVtpXTtcclxuICAgICAgICAgICAgY29uc3QgcHV6emxlU2V0ID0gbmV3IFB1enpsZVNldChpbWcsIGxlZnQsIHRvcCwgc2l6ZSwgc29sdmFibGUsIHN0b3J5KTtcclxuICAgICAgICAgICAgcHV6emxlU2V0cy5wdXNoKHB1enpsZVNldCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdE9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xyXG4gICAgICAgICAgICBzZWxlY3RPcHRpb24udmFsdWUgPSBpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIHNlbGVjdE9wdGlvbi5pbm5lclRleHQgPSB0aXRsZTtcclxuICAgICAgICAgICAgcHV6emxlU2VsZWN0b3IuYXBwZW5kQ2hpbGQoc2VsZWN0T3B0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgeWllbGQgUHJvbWlzZS5hbGwocHV6emxlU2V0cy5tYXAodiA9PiB2LndhaXRGb3JJbWFnZUxvYWQoKSkpO1xyXG4gICAgICAgIHJldHVybiBwdXp6bGVTZXRzO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0U2l6ZUhhbmRsZXIoKSB7XHJcbiAgICBnYW1lLnNldFNpemUoc2l6ZUlucHV0LnZhbHVlQXNOdW1iZXIsIC4uLmRlY29kZUJsYW5rKCkpO1xyXG59XHJcbmxvYWRQdXp6bGVTZXRzKCkudGhlbigocCkgPT4ge1xyXG4gICAgcHV6emxlU2V0cyA9IHA7XHJcbiAgICBzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xyXG4gICAgICAgIGdhbWUuc2h1ZmZsZSgpO1xyXG4gICAgICAgIGdhbWUuaW5pdFBpZWNlUG9zaXRpb24oKTtcclxuICAgICAgICBnYW1lLnN0YXJ0KGV2LnRpbWVTdGFtcCk7XHJcbiAgICB9KTtcclxuICAgIGJsYW5rUG9zaXRpb25TZWxlY3Rvci50b3BMZWZ0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc2V0U2l6ZUhhbmRsZXIpO1xyXG4gICAgYmxhbmtQb3NpdGlvblNlbGVjdG9yLnRvcFJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgc2V0U2l6ZUhhbmRsZXIpO1xyXG4gICAgYmxhbmtQb3NpdGlvblNlbGVjdG9yLmJvdHRvbUxlZnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzZXRTaXplSGFuZGxlcik7XHJcbiAgICBibGFua1Bvc2l0aW9uU2VsZWN0b3IuYm90dG9tUmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBzZXRTaXplSGFuZGxlcik7XHJcbiAgICBzaXplSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgc2V0U2l6ZUhhbmRsZXIpO1xyXG4gICAgcHV6emxlU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZXYgPT4ge1xyXG4gICAgICAgIGdhbWUuc2V0UHV6emxlU2V0KHB1enpsZVNldHNbcHV6emxlU2VsZWN0b3IudmFsdWVdKTtcclxuICAgIH0pO1xyXG4gICAgbGFiZWxTZWxlY3Rvci5ub25lLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZXYgPT4ge1xyXG4gICAgICAgIGdhbWUuc2hvd0xhYmVsID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICAgIGxhYmVsU2VsZWN0b3IucGhvbmUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBldiA9PiB7XHJcbiAgICAgICAgZ2FtZS5zaG93TGFiZWwgPSB0cnVlO1xyXG4gICAgICAgIGdhbWUuYXNzaWduTGFiZWwoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgICBsYWJlbFNlbGVjdG9yLmtleXBhZC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGV2ID0+IHtcclxuICAgICAgICBnYW1lLnNob3dMYWJlbCA9IHRydWU7XHJcbiAgICAgICAgZ2FtZS5hc3NpZ25MYWJlbCh0cnVlKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IHB1enpsZVNldCA9IHB1enpsZVNldHNbcHV6emxlU2VsZWN0b3IudmFsdWVdO1xyXG4gICAgbGV0IHNpemUgPSBzaXplSW5wdXQudmFsdWVBc051bWJlcjtcclxuICAgIGdhbWUgPSBuZXcgR2FtZShzaXplLCBwdXp6bGVTZXQsIDIwLCAyMCwgMzIwLCBsYWJlbFNlbGVjdG9yLmtleXBhZC5jaGVja2VkKTtcclxuICAgIGdhbWUuaW5wdXQuY29ubmVjdChjYW52YXMsIGdhbWUpO1xyXG4gICAgY2xvY2sgPSBuZXcgQ2xvY2sodCA9PiB7XHJcbiAgICAgICAgZ2FtZS51cGRhdGUodCk7XHJcbiAgICAgICAgZ2FtZS5yZW5kZXIoY29udGV4dCk7XHJcbiAgICB9KTtcclxuICAgIGNsb2NrLnJ1bigpO1xyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: getRowCol, getPosition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRowCol\", function() { return getRowCol; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPosition\", function() { return getPosition; });\nfunction quantize(pos, parentSize, offset, divideBy) {\r\n    let n = Math.floor((pos - offset) / (parentSize / divideBy));\r\n    return n;\r\n}\r\n/**\r\n * 왼쪽 경계가 left, 오른쪽 경계가 top인 정사각형 parentSize를 정사각행렬 꼴로 divideBy만큼 나누었을 때, 좌표 (x, y)가 속한 행렬 위치\r\n */\r\nfunction getRowCol(x, y, parentSize, left, top, divideBy) {\r\n    return [\r\n        quantize(y, parentSize, top, divideBy),\r\n        quantize(x, parentSize, left, divideBy)\r\n    ];\r\n}\r\n/**\r\n * 왼쪽 경계가 left, 오른쪽 경계가 top인 정사각형 parentSize를 정사각행렬 꼴로 divideBy만큼 나누었을 때, row행 col열에 있는 부분 정사각형의 왼쪽 위 좌표\r\n */\r\nfunction getPosition(row, col, parentSize, left, top, divideBy) {\r\n    let d = parentSize / divideBy;\r\n    return [left + col * d, top + row * d];\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMudHM/MjA1MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vc3JjL3V0aWxzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcXVhbnRpemUocG9zLCBwYXJlbnRTaXplLCBvZmZzZXQsIGRpdmlkZUJ5KSB7XHJcbiAgICBsZXQgbiA9IE1hdGguZmxvb3IoKHBvcyAtIG9mZnNldCkgLyAocGFyZW50U2l6ZSAvIGRpdmlkZUJ5KSk7XHJcbiAgICByZXR1cm4gbjtcclxufVxyXG4vKipcclxuICog7Jm87Kq9IOqyveqzhOqwgCBsZWZ0LCDsmKTrpbjsqr0g6rK96rOE6rCAIHRvcOyduCDsoJXsgqzqsIHtmJUgcGFyZW50U2l6ZeulvCDsoJXsgqzqsIHtlonroKwg6ry066GcIGRpdmlkZUJ566eM7YG8IOuCmOuIhOyXiOydhCDrlYwsIOyijO2RnCAoeCwgeSnqsIAg7IaN7ZWcIO2WieugrCDsnITsuZhcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSb3dDb2woeCwgeSwgcGFyZW50U2l6ZSwgbGVmdCwgdG9wLCBkaXZpZGVCeSkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBxdWFudGl6ZSh5LCBwYXJlbnRTaXplLCB0b3AsIGRpdmlkZUJ5KSxcclxuICAgICAgICBxdWFudGl6ZSh4LCBwYXJlbnRTaXplLCBsZWZ0LCBkaXZpZGVCeSlcclxuICAgIF07XHJcbn1cclxuLyoqXHJcbiAqIOyZvOyqvSDqsr3qs4TqsIAgbGVmdCwg7Jik66W47Kq9IOqyveqzhOqwgCB0b3Dsnbgg7KCV7IKs6rCB7ZiVIHBhcmVudFNpemXrpbwg7KCV7IKs6rCB7ZaJ66CsIOq8tOuhnCBkaXZpZGVCeeunjO2BvCDrgpjriITsl4jsnYQg65WMLCByb3ftlokgY29s7Je07JeQIOyeiOuKlCDrtoDrtoQg7KCV7IKs6rCB7ZiV7J2YIOyZvOyqvSDsnIQg7KKM7ZGcXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zaXRpb24ocm93LCBjb2wsIHBhcmVudFNpemUsIGxlZnQsIHRvcCwgZGl2aWRlQnkpIHtcclxuICAgIGxldCBkID0gcGFyZW50U2l6ZSAvIGRpdmlkZUJ5O1xyXG4gICAgcmV0dXJuIFtsZWZ0ICsgY29sICogZCwgdG9wICsgcm93ICogZF07XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils.ts\n");

/***/ })

/******/ });